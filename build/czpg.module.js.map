{"version":3,"file":"czpg.module.js","sources":["../src/core/properties.js","../src/core/constant.js","../src/core/gl.js","../src/core/Math.js","../src/core/Transform.js","../src/core/Modal.js","../src/core/Primatives.js","../src/core/OrbitCamera.js","../src/core/Render.js","../src/core/ShaderUtil.js","../src/core/Shader.js","../src/core/ShaderLib.js"],"sourcesContent":["export const meshs = {};\n","export const VTX_ATTR_POSITION_NAME = 'a_position';\nexport const VTX_ATTR_POSITION_LOC = 0;\nexport const VTX_ATTR_NORMAL_NAME = 'a_normal';\nexport const VTX_ATTR_NORMAL_LOC = 1;\nexport const VTX_ATTR_UV_NAME = 'a_uv';\nexport const VTX_ATTR_UV_LOC = 2;\n","/* eslint prefer-destructuring: 0 */\nimport * as Locations from './constant';\nimport { meshs } from './properties';\n\nlet gl; // eslint-disable-line\nexport function getContext(canvasId) {\n    const canvas = document.getElementById(canvasId);\n    gl = canvas.getContext('webgl2', { antialias: true });\n    if (!gl) {\n        console.error('Please use a decent browser, this browser not support Webgl2Context.');\n        return null;\n    }\n    return this;\n}\n\nexport function clear() {\n    gl.clearColor(1.0, 1.0, 1.0, 1.0);\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n    return this;\n}\n\nexport function setSize(width, height, mutiplier) {\n    let muti = mutiplier || 1.0;\n    muti = Math.max(0, muti);\n    gl.canvas.style.width = width;\n    gl.canvas.style.height = height;\n    gl.canvas.width = gl.canvas.clientWidth * muti;\n    gl.canvas.height = gl.canvas.clientHeight * muti;\n    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n    return this;\n}\n\nexport function createArrayBuffer(array, isStatic = true) {\n    const buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.bufferData(gl.ARRAY_BUFFER, array, isStatic ? gl.STATIC_DRAW : gl.DYNAMIC_DRAW);\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    return buffer;\n}\n\nexport function createMeshVAO(name, indexArray, vtxArray, normalArray, uvArray) {\n    const mesh = { darwMode: gl.TRIANGLES };\n\n    mesh.vao = gl.createVertexArray();\n    gl.bindVertexArray(mesh.vao);\n\n    if (indexArray !== undefined && indexArray !== null) {\n        mesh.indexBuffer = gl.createBuffer();\n        mesh.indexCount = indexArray.length;\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, mesh.indexBuffer);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indexArray), gl.STATIC_DRAW);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n    }\n\n    if (vtxArray !== undefined && vtxArray !== null) {\n        mesh.vtxBuffer = gl.createBuffer();\n        mesh.vtxComponents = 3;\n        mesh.vtxCount = vtxArray.length / mesh.vtxComponents;\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, mesh.vtxBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vtxArray), gl.STATIC_DRAW);\n        gl.enableVertexAttribArray(Locations.VTX_ATTR_POSITION_LOC);\n        gl.vertexAttribPointer(Locations.VTX_ATTR_POSITION_LOC, 3, gl.FLOAT, false, 0, 0);\n    }\n\n    if (normalArray !== undefined && normalArray !== null) {\n        mesh.normalBuffer = gl.createBuffer();\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, mesh.normalBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(normalArray), gl.STATIC_DRAW);\n        gl.enableVertexAttribArray(Locations.VTX_ATTR_NORMAL_LOC);\n        gl.vertexAttribPointer(Locations.VTX_ATTR_NORMAL_LOC, 3, gl.FLOAT, false, 0, 0);\n    }\n\n    if (uvArray !== undefined && uvArray !== null) {\n        mesh.uvBuffer = gl.createBuffer();\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, mesh.uvBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(uvArray), gl.STATIC_DRAW);\n        gl.enableVertexAttribArray(Locations.VTX_ATTR_UV_LOC);\n        gl.vertexAttribPointer(Locations.VTX_ATTR_UV_LOC, 2, gl.FLOAT, false, 0, 0);\n    }\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    gl.bindVertexArray(null);\n\n    meshs[name] = mesh;\n    return mesh;\n}\n\nexport { gl };\n","/* eslint-disable */\r\nexport class Vector3{\r\n    constructor(x,y,z){\tthis.x = x || 0.0;\tthis.y = y || 0.0;\tthis.z = z || 0.0; }\r\n\r\n    magnitude(v){\r\n        //Only get the magnitude of this vector\r\n        if(v === undefined) return Math.sqrt( this.x*this.x + this.y*this.y + this.z*this.z );\r\n\r\n        //Get magnitude based on another vector\r\n        var x = v.x - this.x,\r\n            y = v.y - this.y,\r\n            z = v.y - this.z;\r\n\r\n        return Math.sqrt( x*x + y*y + z*z );\r\n    }\r\n\r\n    normalize(){ var mag = this.magnitude(); this.x /= mag; this.y /= mag; this.z /= mag; return this;}\r\n\r\n    set(x,y,z){ this.x = x; this.y = y; this.z = z;\treturn this; }\r\n\r\n    multiScalar(v){ this.x *= v; this.y *= v; this.z *= v; return this; }\r\n\r\n    getArray(){ return [this.x,this.y,this.z]; }\r\n    getFloatArray(){ return new Float32Array([this.x,this.y,this.z]);}\r\n    clone(){ return new Vector3(this.x,this.y,this.z); }\r\n}\r\n\r\n\r\n//###########################################################################################\r\nexport class Matrix4{\r\n    constructor(){ this.raw = Matrix4.identity(); }\r\n\r\n    //....................................................................\r\n    //Transformations Methods\r\n    vtranslate(v){\t\tMatrix4.translate(this.raw,v.x,v.y,v.z); return this; }\r\n    translate(x,y,z){\tMatrix4.translate(this.raw,x,y,z); return this;}\r\n\r\n    rotateY(rad){\t\tMatrix4.rotateY(this.raw,rad); return this; }\r\n    rotateX(rad){\t\tMatrix4.rotateX(this.raw,rad); return this; }\r\n    rotateZ(rad){\t\tMatrix4.rotateZ(this.raw,rad); return this; }\r\n\t\r\n    vscale(vec3){\t\tMatrix4.scale(this.raw,vec3.x,vec3.y,vec3.z); return this; }\r\n    scale(x,y,z){\t\tMatrix4.scale(this.raw,x,y,z); return this; }\r\n\t\r\n    invert(){\t\t\tMatrix4.invert(this.raw); return this; }\r\n\r\n    //....................................................................\r\n    //Methods\r\n    //Bring is back to identity without changing the transform values.\r\n    resetRotation(){\t\r\n        for(var i=0; i < this.raw.length; i++){\r\n            if(i >= 12 && i <= 14) continue;\r\n            this.raw[i] = (i % 5 == 0)? 1 : 0;  //only positions 0,5,10,15 need to be 1 else 0.\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    //reset data back to identity.\r\n    reset(){ \r\n        for(var i=0; i < this.raw.length; i++) this.raw[i] = (i % 5 == 0)? 1 : 0; //only positions 0,5,10,15 need to be 1 else 0.\r\n        return this;\r\n    }\r\n\r\n    //....................................................................\r\n    //Static Data Methods\r\n    static identity(){\r\n        var a = new Float32Array(16);\r\n        a[0] = a[5] = a[10] = a[15] = 1;\r\n        return a;\r\n    }\r\n\r\n    //from glMatrix\r\n    static perspective(out, fovy, aspect, near, far){\r\n        var f = 1.0 / Math.tan(fovy / 2),\r\n            nf = 1 / (near - far);\r\n        out[0] = f / aspect;\r\n        out[1] = 0;\r\n        out[2] = 0;\r\n        out[3] = 0;\r\n        out[4] = 0;\r\n        out[5] = f;\r\n        out[6] = 0;\r\n        out[7] = 0;\r\n        out[8] = 0;\r\n        out[9] = 0;\r\n        out[10] = (far + near) * nf;\r\n        out[11] = -1;\r\n        out[12] = 0;\r\n        out[13] = 0;\r\n        out[14] = (2 * far * near) * nf;\r\n        out[15] = 0;\r\n    }\r\n\r\n\r\n    static ortho(out, left, right, bottom, top, near, far) {\r\n        var lr = 1 / (left - right),\r\n            bt = 1 / (bottom - top),\r\n            nf = 1 / (near - far);\r\n        out[0] = -2 * lr;\r\n        out[1] = 0;\r\n        out[2] = 0;\r\n        out[3] = 0;\r\n        out[4] = 0;\r\n        out[5] = -2 * bt;\r\n        out[6] = 0;\r\n        out[7] = 0;\r\n        out[8] = 0;\r\n        out[9] = 0;\r\n        out[10] = 2 * nf;\r\n        out[11] = 0;\r\n        out[12] = (left + right) * lr;\r\n        out[13] = (top + bottom) * bt;\r\n        out[14] = (far + near) * nf;\r\n        out[15] = 1;\r\n    }\r\n\r\n\r\n    //https://github.com/toji/gl-matrix/blob/master/src/gl-matrix/mat4.js\r\n    //make the rows into the columns\r\n    static transpose(out, a){\r\n        //If we are transposing ourselves we can skip a few steps but have to cache some values\r\n        if (out === a) {\r\n            var a01 = a[1], a02 = a[2], a03 = a[3], a12 = a[6], a13 = a[7], a23 = a[11];\r\n            out[1] = a[4];\r\n            out[2] = a[8];\r\n            out[3] = a[12];\r\n            out[4] = a01;\r\n            out[6] = a[9];\r\n            out[7] = a[13];\r\n            out[8] = a02;\r\n            out[9] = a12;\r\n            out[11] = a[14];\r\n            out[12] = a03;\r\n            out[13] = a13;\r\n            out[14] = a23;\r\n        }else{\r\n            out[0] = a[0];\r\n            out[1] = a[4];\r\n            out[2] = a[8];\r\n            out[3] = a[12];\r\n            out[4] = a[1];\r\n            out[5] = a[5];\r\n            out[6] = a[9];\r\n            out[7] = a[13];\r\n            out[8] = a[2];\r\n            out[9] = a[6];\r\n            out[10] = a[10];\r\n            out[11] = a[14];\r\n            out[12] = a[3];\r\n            out[13] = a[7];\r\n            out[14] = a[11];\r\n            out[15] = a[15];\r\n        }\r\n\r\n        return out;\r\n    }\r\n\r\n    //Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n    static normalMat3(out,a){\r\n        var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\r\n            a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\r\n            a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\r\n            a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15],\r\n\r\n            b00 = a00 * a11 - a01 * a10,\r\n            b01 = a00 * a12 - a02 * a10,\r\n            b02 = a00 * a13 - a03 * a10,\r\n            b03 = a01 * a12 - a02 * a11,\r\n            b04 = a01 * a13 - a03 * a11,\r\n            b05 = a02 * a13 - a03 * a12,\r\n            b06 = a20 * a31 - a21 * a30,\r\n            b07 = a20 * a32 - a22 * a30,\r\n            b08 = a20 * a33 - a23 * a30,\r\n            b09 = a21 * a32 - a22 * a31,\r\n            b10 = a21 * a33 - a23 * a31,\r\n            b11 = a22 * a33 - a23 * a32,\r\n\r\n            // Calculate the determinant\r\n            det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\r\n\r\n        if (!det) return null;\r\n\r\n        det = 1.0 / det;\r\n\r\n        out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\r\n        out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\r\n        out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\r\n\r\n        out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\r\n        out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\r\n        out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\r\n\r\n        out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\r\n        out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\r\n        out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\r\n        return out;\r\n    }\r\n\r\n    //....................................................................\r\n    //Static Operation\r\n\r\n    //https://github.com/gregtatum/mdn-model-view-projection/blob/master/shared/matrices.js\r\n    static multiplyVector(mat4, v) {\r\n        var x = v[0], y = v[1], z = v[2], w = v[3];\r\n        var c1r1 = mat4[ 0], c2r1 = mat4[ 1], c3r1 = mat4[ 2], c4r1 = mat4[ 3],\r\n            c1r2 = mat4[ 4], c2r2 = mat4[ 5], c3r2 = mat4[ 6], c4r2 = mat4[ 7],\r\n            c1r3 = mat4[ 8], c2r3 = mat4[ 9], c3r3 = mat4[10], c4r3 = mat4[11],\r\n            c1r4 = mat4[12], c2r4 = mat4[13], c3r4 = mat4[14], c4r4 = mat4[15];\r\n\r\n        return [\r\n            x*c1r1 + y*c1r2 + z*c1r3 + w*c1r4,\r\n            x*c2r1 + y*c2r2 + z*c2r3 + w*c2r4,\r\n            x*c3r1 + y*c3r2 + z*c3r3 + w*c3r4,\r\n            x*c4r1 + y*c4r2 + z*c4r3 + w*c4r4\r\n        ];\r\n    }\r\n\r\n    //https://github.com/toji/gl-matrix/blob/master/src/gl-matrix/vec4.js, vec4.transformMat4\r\n    static transformVec4(out, v, m){\r\n        out[0] = m[0] * v[0] + m[4] * v[1] + m[8]\t* v[2] + m[12] * v[3];\r\n        out[1] = m[1] * v[0] + m[5] * v[1] + m[9]\t* v[2] + m[13] * v[3];\r\n        out[2] = m[2] * v[0] + m[6] * v[1] + m[10]\t* v[2] + m[14] * v[3];\r\n        out[3] = m[3] * v[0] + m[7] * v[1] + m[11]\t* v[2] + m[15] * v[3];\r\n        return out;\r\n    }\r\n\r\n    //From glMatrix\r\n    //Multiple two mat4 together\r\n    static mult(out, a, b){ \r\n        var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3],\r\n            a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7],\r\n            a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11],\r\n            a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\r\n\r\n        // Cache only the current line of the second matrix\r\n        var b0  = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\r\n        out[0] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n        out[1] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n        out[2] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n        out[3] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\r\n\r\n        b0 = b[4]; b1 = b[5]; b2 = b[6]; b3 = b[7];\r\n        out[4] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n        out[5] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n        out[6] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n        out[7] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\r\n\r\n        b0 = b[8]; b1 = b[9]; b2 = b[10]; b3 = b[11];\r\n        out[8] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n        out[9] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n        out[10] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n        out[11] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\r\n\r\n        b0 = b[12]; b1 = b[13]; b2 = b[14]; b3 = b[15];\r\n        out[12] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\r\n        out[13] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\r\n        out[14] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\r\n        out[15] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\r\n        return out;\t\r\n    }\r\n\r\n\r\n    //....................................................................\r\n    //Static Transformation\r\n    static scale(out,x,y,z){\r\n        out[0] *= x;\r\n        out[1] *= x;\r\n        out[2] *= x;\r\n        out[3] *= x;\r\n        out[4] *= y;\r\n        out[5] *= y;\r\n        out[6] *= y;\r\n        out[7] *= y;\r\n        out[8] *= z;\r\n        out[9] *= z;\r\n        out[10] *= z;\r\n        out[11] *= z;\r\n        return out;\r\n    }\r\n\r\n    static rotateY(out,rad) {\r\n        var s = Math.sin(rad),\r\n            c = Math.cos(rad),\r\n            a00 = out[0],\r\n            a01 = out[1],\r\n            a02 = out[2],\r\n            a03 = out[3],\r\n            a20 = out[8],\r\n            a21 = out[9],\r\n            a22 = out[10],\r\n            a23 = out[11];\r\n\r\n        // Perform axis-specific matrix multiplication\r\n        out[0] = a00 * c - a20 * s;\r\n        out[1] = a01 * c - a21 * s;\r\n        out[2] = a02 * c - a22 * s;\r\n        out[3] = a03 * c - a23 * s;\r\n        out[8] = a00 * s + a20 * c;\r\n        out[9] = a01 * s + a21 * c;\r\n        out[10] = a02 * s + a22 * c;\r\n        out[11] = a03 * s + a23 * c;\r\n        return out;\r\n    }\r\n\r\n    static rotateX(out,rad) {\r\n        var s = Math.sin(rad),\r\n            c = Math.cos(rad),\r\n            a10 = out[4],\r\n            a11 = out[5],\r\n            a12 = out[6],\r\n            a13 = out[7],\r\n            a20 = out[8],\r\n            a21 = out[9],\r\n            a22 = out[10],\r\n            a23 = out[11];\r\n\r\n        // Perform axis-specific matrix multiplication\r\n        out[4] = a10 * c + a20 * s;\r\n        out[5] = a11 * c + a21 * s;\r\n        out[6] = a12 * c + a22 * s;\r\n        out[7] = a13 * c + a23 * s;\r\n        out[8] = a20 * c - a10 * s;\r\n        out[9] = a21 * c - a11 * s;\r\n        out[10] = a22 * c - a12 * s;\r\n        out[11] = a23 * c - a13 * s;\r\n        return out;\r\n    }\r\n\r\n    static rotateZ(out,rad){\r\n        var s = Math.sin(rad),\r\n            c = Math.cos(rad),\r\n            a00 = out[0],\r\n            a01 = out[1],\r\n            a02 = out[2],\r\n            a03 = out[3],\r\n            a10 = out[4],\r\n            a11 = out[5],\r\n            a12 = out[6],\r\n            a13 = out[7];\r\n\r\n        // Perform axis-specific matrix multiplication\r\n        out[0] = a00 * c + a10 * s;\r\n        out[1] = a01 * c + a11 * s;\r\n        out[2] = a02 * c + a12 * s;\r\n        out[3] = a03 * c + a13 * s;\r\n        out[4] = a10 * c - a00 * s;\r\n        out[5] = a11 * c - a01 * s;\r\n        out[6] = a12 * c - a02 * s;\r\n        out[7] = a13 * c - a03 * s;\r\n        return out;\r\n    }\r\n\r\n    static rotate(out, rad, axis){\r\n        var x = axis[0], y = axis[1], z = axis[2],\r\n            len = Math.sqrt(x * x + y * y + z * z),\r\n            s, c, t,\r\n            a00, a01, a02, a03,\r\n            a10, a11, a12, a13,\r\n            a20, a21, a22, a23,\r\n            b00, b01, b02,\r\n            b10, b11, b12,\r\n            b20, b21, b22;\r\n\r\n        if (Math.abs(len) < 0.000001) { return null; }\r\n\r\n        len = 1 / len;\r\n        x *= len;\r\n        y *= len;\r\n        z *= len;\r\n\r\n        s = Math.sin(rad);\r\n        c = Math.cos(rad);\r\n        t = 1 - c;\r\n\r\n        a00 = out[0]; a01 = out[1]; a02 = out[2]; a03 = out[3];\r\n        a10 = out[4]; a11 = out[5]; a12 = out[6]; a13 = out[7];\r\n        a20 = out[8]; a21 = out[9]; a22 = out[10]; a23 = out[11];\r\n\r\n        // Construct the elements of the rotation matrix\r\n        b00 = x * x * t + c; b01 = y * x * t + z * s; b02 = z * x * t - y * s;\r\n        b10 = x * y * t - z * s; b11 = y * y * t + c; b12 = z * y * t + x * s;\r\n        b20 = x * z * t + y * s; b21 = y * z * t - x * s; b22 = z * z * t + c;\r\n\r\n        // Perform rotation-specific matrix multiplication\r\n        out[0] = a00 * b00 + a10 * b01 + a20 * b02;\r\n        out[1] = a01 * b00 + a11 * b01 + a21 * b02;\r\n        out[2] = a02 * b00 + a12 * b01 + a22 * b02;\r\n        out[3] = a03 * b00 + a13 * b01 + a23 * b02;\r\n        out[4] = a00 * b10 + a10 * b11 + a20 * b12;\r\n        out[5] = a01 * b10 + a11 * b11 + a21 * b12;\r\n        out[6] = a02 * b10 + a12 * b11 + a22 * b12;\r\n        out[7] = a03 * b10 + a13 * b11 + a23 * b12;\r\n        out[8] = a00 * b20 + a10 * b21 + a20 * b22;\r\n        out[9] = a01 * b20 + a11 * b21 + a21 * b22;\r\n        out[10] = a02 * b20 + a12 * b21 + a22 * b22;\r\n        out[11] = a03 * b20 + a13 * b21 + a23 * b22;\r\n    }\r\n\r\n    static invert(out,mat) {\r\n        if(mat === undefined) mat = out; //If input isn't sent, then output is also input\r\n\r\n        var a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3],\r\n            a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7],\r\n            a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11],\r\n            a30 = mat[12], a31 = mat[13], a32 = mat[14], a33 = mat[15],\r\n\r\n            b00 = a00 * a11 - a01 * a10,\r\n            b01 = a00 * a12 - a02 * a10,\r\n            b02 = a00 * a13 - a03 * a10,\r\n            b03 = a01 * a12 - a02 * a11,\r\n            b04 = a01 * a13 - a03 * a11,\r\n            b05 = a02 * a13 - a03 * a12,\r\n            b06 = a20 * a31 - a21 * a30,\r\n            b07 = a20 * a32 - a22 * a30,\r\n            b08 = a20 * a33 - a23 * a30,\r\n            b09 = a21 * a32 - a22 * a31,\r\n            b10 = a21 * a33 - a23 * a31,\r\n            b11 = a22 * a33 - a23 * a32,\r\n\r\n            // Calculate the determinant\r\n            det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\r\n\r\n        if (!det) return false;\r\n        det = 1.0 / det;\r\n\r\n        out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\r\n        out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\r\n        out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\r\n        out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\r\n        out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\r\n        out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\r\n        out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\r\n        out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\r\n        out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\r\n        out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\r\n        out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\r\n        out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\r\n        out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\r\n        out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\r\n        out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\r\n        out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\r\n\r\n        return true;\r\n    }\r\n\r\n    //https://github.com/toji/gl-matrix/blob/master/src/gl-matrix/mat4.js  mat4.scalar.translate = function (out, a, v) {\r\n    static translate(out,x,y,z){\r\n        out[12] = out[0] * x + out[4] * y + out[8]\t* z + out[12];\r\n        out[13] = out[1] * x + out[5] * y + out[9]\t* z + out[13];\r\n        out[14] = out[2] * x + out[6] * y + out[10]\t* z + out[14];\r\n        out[15] = out[3] * x + out[7] * y + out[11]\t* z + out[15];\r\n    }\r\n}\r\n","import { Vector3, Matrix4 } from './Math';\n\nclass Transform {\n    constructor() {\n        this.position = new Vector3(0, 0, 0);\n        this.scale = new Vector3(1, 1, 1);\n        this.rotation = new Vector3(0, 0, 0);\n        this.matLocal = new Matrix4();\n        this.matNormal = new Matrix4();\n\n        this.forward = new Float32Array(4);\n        this.up = new Float32Array(4);\n        this.right = new Float32Array(4);\n    }\n\n    updateMatrix() {\n        this.matLocal.reset()\n            .vtranslate(this.position)\n            .rotateZ(this.rotation.z * Transform.deg2Rad)\n            .rotateX(this.rotation.x * Transform.deg2Rad)\n            .rotateY(this.rotation.y * Transform.deg2Rad)\n            .vscale(this.scale);\n\n        Matrix4.normalMat3(this.matNormal, this.matLocal.raw);\n\n        Matrix4.transformVec4(this.forward, [0, 0, 1, 0], this.matLocal.raw);\n        Matrix4.transformVec4(this.up, [0, 1, 0, 0], this.matLocal.raw);\n        Matrix4.transformVec4(this.right, [1, 0, 0, 0], this.matLocal.raw);\n\n        return this.matLocal.raw;\n    }\n\n    updateDirection() {\n        Matrix4.transformVec4(this.forward, [0, 0, 1, 0], this.matLocal.raw);\n        Matrix4.transformVec4(this.up, [0, 1, 0, 0], this.matLocal.raw);\n        Matrix4.transformVec4(this.right, [1, 0, 0, 0], this.matLocal.raw);\n        return this;\n    }\n\n    getMatrix() {\n        return this.matLocal.raw;\n    }\n\n    getNormalMatrix() {\n        return this.matNormal;\n    }\n\n    reset() {\n        this.position.set(0, 0, 0);\n        this.scale.set(1, 1, 1);\n        this.rotation.set(0, 0, 0);\n    }\n}\n\nTransform.deg2Rad = Math.PI / 180;\n\nexport { Transform };\n","import { Transform } from './Transform';\n\nclass Modal {\n    constructor(mesh) {\n        this.mesh = mesh;\n        this.transform = new Transform();\n    }\n\n    setScale(x, y, z) {\n        this.transform.scale.set(x, y, z);\n        return this;\n    }\n\n    setPosition(x, y, z) {\n        this.transform.position.set(x, y, z);\n        return this;\n    }\n\n    setRotation(x, y, z) {\n        this.transform.rotation.set(x, y, z);\n        return this;\n    }\n\n    addScale(x, y, z) {\n        this.transform.scale.x += x;\n        this.transform.scale.y += y;\n        this.transform.scale.z += z;\n        return this;\n    }\n\n    addPosition(x, y, z) {\n        this.transform.position.x += x;\n        this.transform.position.y += y;\n        this.transform.position.z += z;\n        return this;\n    }\n\n    addRotation(x, y, z) {\n        this.transform.rotation.x += x;\n        this.transform.rotation.y += y;\n        this.transform.rotation.z += z;\n        return this;\n    }\n\n    preRender() {\n        this.transform.updateMatrix();\n        return this;\n    }\n}\n\nexport { Modal };\n","import * as Locations from './constant';\nimport * as properties from './properties';\n\nconst Primatives = {};\nPrimatives.GridAxis = class {\n    static createMesh(gl) {\n        const vertices = [];\n        const size = 2;\n        const div = 10.0;\n        const step = size / div;\n        const half = size / 2;\n\n        let p;\n        for (let i = 0; i <= div; i++) {\n            p = -half + (i * step);\n            vertices.push(p);\n            vertices.push(0);\n            vertices.push(half);\n            vertices.push(0);\n\n            vertices.push(p);\n            vertices.push(0);\n            vertices.push(-half);\n            vertices.push(0);\n\n            vertices.push(-half);\n            vertices.push(0);\n            vertices.push(p);\n            vertices.push(0);\n\n            vertices.push(half);\n            vertices.push(0);\n            vertices.push(p);\n            vertices.push(0);\n        }\n\n        vertices.push(-half);\n        vertices.push(0);\n        vertices.push(0);\n        vertices.push(1);\n\n        vertices.push(half);\n        vertices.push(0);\n        vertices.push(0);\n        vertices.push(1);\n\n        vertices.push(0);\n        vertices.push(-half);\n        vertices.push(0);\n        vertices.push(2);\n\n        vertices.push(0);\n        vertices.push(half);\n        vertices.push(0);\n        vertices.push(2);\n\n        vertices.push(0);\n        vertices.push(0);\n        vertices.push(-half);\n        vertices.push(3);\n\n        vertices.push(0);\n        vertices.push(0);\n        vertices.push(half);\n        vertices.push(3);\n\n        const attrColorLoc = 4;\n        const mesh = {\n            drawMode: gl.LINES,\n            vao: gl.createVertexArray(),\n        };\n\n        mesh.vtxComponents = 4;\n        mesh.vtxCount = vertices.length / mesh.vtxComponents;\n        const strideLen = Float32Array.BYTES_PER_ELEMENT * mesh.vtxComponents;\n\n        mesh.vtxBuffer = gl.createBuffer();\n        gl.bindVertexArray(mesh.vao);\n        gl.bindBuffer(gl.ARRAY_BUFFER, mesh.vtxBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);\n        gl.enableVertexAttribArray(Locations.VTX_ATTR_POSITION_LOC);\n        gl.enableVertexAttribArray(attrColorLoc);\n\n        gl.vertexAttribPointer(\n            Locations.VTX_ATTR_POSITION_LOC,\n            3,\n            gl.FLOAT,\n            false,\n            strideLen,\n            0,\n        );\n\n        gl.vertexAttribPointer(\n            attrColorLoc,\n            1,\n            gl.FLOAT,\n            false,\n            strideLen,\n            Float32Array.BYTES_PER_ELEMENT * 3,\n        );\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        gl.bindVertexArray(null);\n        properties.meshs.gridAxis = mesh;\n        return mesh;\n    }\n};\n\nexport { Primatives };\n","/* eslint no-multi-assign: 0 */\nimport { Transform } from './Transform';\nimport { Matrix4 } from './Math';\n\nclass OrbitCamera {\n    constructor(fov, ratio, near, far) {\n        this.perspectionMatrix = new Float32Array(16);\n        Matrix4.perspective(this.perspectionMatrix, fov, ratio, near, far);\n\n        this.transform = new Transform();\n        this.viewMatrix = new Float32Array(16);\n\n        this.mode = OrbitCamera.MODE_ORBIT;\n    }\n\n    panX(v) {\n        if (this.mode === OrbitCamera.MODE_ORBIT) {\n            return;\n        }\n        this.updateViewMatrix();\n        this.transform.position.x += this.transform.right[0] * v;\n        this.transform.position.y += this.transform.right[1] * v;\n        this.transform.position.z += this.transform.right[2] * v;\n    }\n\n    panY(v) {\n        this.updateViewMatrix();\n        this.transform.position.y += this.transform.up[1] * v;\n        if (this.mode === OrbitCamera.MODE_ORBIT) {\n            return;\n        }\n        this.transform.position.x += this.transform.up[0] * v;\n        this.transform.position.z += this.transform.up[2] * v;\n    }\n\n    panZ(v) {\n        this.updateViewMatrix();\n        if (this.mode === OrbitCamera.MODE_ORBIT) {\n            this.transform.position.z += v;\n        } else {\n            this.transform.position.x += this.transform.forward[0] * v;\n            this.transform.position.y += this.transform.forward[1] * v;\n            this.transform.position.z += this.transform.forward[2] * v;\n        }\n    }\n\n    updateViewMatrix() {\n        if (this.mode === OrbitCamera.MODE_FREE) {\n            this.transform.matLocal.reset()\n                .vtranslate(this.transform.position)\n                .rotateY(this.transform.rotation.y * Transform.deg2Rad)\n                .rotateX(this.transform.rotation.x * Transform.deg2Rad);\n        } else {\n            this.transform.matLocal.reset()\n                .rotateY(this.transform.rotation.y * Transform.deg2Rad)\n                .rotateX(this.transform.rotation.x * Transform.deg2Rad)\n                .vtranslate(this.transform.position);\n        }\n\n        this.transform.updateDirection();\n\n        Matrix4.invert(this.viewMatrix, this.transform.matLocal.raw);\n        return this.viewMatrix;\n    }\n}\n\nOrbitCamera.MODE_FREE = 0;\nOrbitCamera.MODE_ORBIT = 1;\n\n\nclass CameraController {\n    constructor(gl, camera) {\n        const self = this;\n        const box = gl.canvas.getBoundingClientRect();\n        this.canvas = gl.canvas;\n        this.camera = camera;\n\n        this.rotateRate = -300;\n        this.panRate = 5;\n        this.zoomRate = 200;\n\n        this.offsetX = box.left;\n        this.offsetY = box.top;\n\n        this.initX = 0;\n        this.initY = 0;\n        this.prevX = 0;\n        this.prevY = 0;\n\n        this.onUpHandler = function (e) {\n            self.onMouseUp(e);\n        };\n        this.onMoveHandler = function (e) {\n            self.onMouseMove(e);\n        };\n\n        this.canvas.addEventListener('mousedown', (e) => {\n            self.onMouseDown(e);\n        });\n        this.canvas.addEventListener('mousewheel', (e) => {\n            self.onMouseWheel(e);\n        });\n    }\n\n    getMouseVec2(e) {\n        return {\n            x: e.pageX - this.offsetX,\n            y: e.pageY - this.offsetY,\n        };\n    }\n\n    onMouseDown(e) {\n        this.initX = this.prevX = e.pageX - this.offsetX;\n        this.initY = this.prevY = e.pageY - this.offsetY;\n\n        this.canvas.addEventListener('mouseup', this.onUpHandler);\n        this.canvas.addEventListener('mousemove', this.onMoveHandler);\n    }\n\n    onMouseUp() {\n        this.canvas.removeEventListener('mouseup', this.onMouseUp);\n        this.canvas.removeEventListener('mousemove', this.onMoveHandler);\n    }\n\n    onMouseWheel(e) {\n        const delta = Math.max(-1, Math.min(1, (e.wheelDelta || -e.detail)));\n        this.camera.panZ(delta * (this.zoomRate / this.canvas.height));\n    }\n\n    onMouseMove(e) {\n        const x = e.pageX - this.offsetX;\n        const y = e.pageY - this.offsetY;\n        const dx = x - this.prevX;\n        const dy = y - this.prevY;\n\n        if (!e.shiftKey) {\n            this.camera.transform.rotation.y += dx * (this.rotateRate / this.canvas.width);\n            this.camera.transform.rotation.x += dy * (this.rotateRate / this.canvas.height);\n        } else {\n            this.camera.panX(-dx * (this.panRate / this.canvas.width));\n            this.camera.panY(dy * (this.panRate / this.canvas.height));\n        }\n\n        this.prevX = x;\n        this.prevY = y;\n    }\n}\n\nexport { OrbitCamera, CameraController };\n","class Render {\n    constructor(callback, fps) {\n        const self = this;\n        this.lastTime = null;\n        this.callback = callback;\n        this.isActive = false;\n        this.fps = 0;\n\n        if (typeof (fps) === 'number' && fps > 0) {\n            this.frameTimeLimit = 1 / fps;\n\n            this.run = function () {\n                const currentTime = performance.now();\n                const timespan = (currentTime - self.lastTime) / 1000;\n\n                if (timespan >= self.frameTimeLimit) {\n                    self.fps = Math.floor(1 / timespan);\n                    self.lastTime = currentTime;\n                    self.callback(timespan);\n                }\n\n                if (self.isActive) { window.requestAnimationFrame(self.run); }\n            };\n        } else {\n            this.run = function () {\n                const currentTime = performance.now();\n                const timespan = (currentTime - self.lastTime) / 1000;\n\n                self.fps = Math.floor(1 / timespan);\n                self.lastTime = currentTime;\n\n                self.callback(timespan);\n                if (self.isActive) { window.requestAnimationFrame(self.run); }\n            };\n        }\n    }\n\n    start() {\n        this.isActive = true;\n        this.lastTime = performance.now();\n        window.requestAnimationFrame(this.run);\n        return this;\n    }\n\n    stop() { this.isActive = false; }\n}\n\nexport { Render };\n","import * as Locations from './constant';\n\nclass ShaderUtil {\n    static getDomSrc(id) {\n        const ele = document.getElementById(id);\n        if (!ele || ele.textContent === '') {\n            console.error(`${id} shader element dose not have text.`);\n            return null;\n        }\n        return ele.textContent;\n    }\n\n    static createShader(gl, src, type) {\n        const shader = gl.createShader(type);\n        gl.shaderSource(shader, src);\n        gl.compileShader(shader);\n\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n            console.error(`Error compiling shader: ${src}`, gl.getShaderInfoLog(shader));\n            gl.deleteShader(shader);\n            return null;\n        }\n\n        return shader;\n    }\n\n    static createProgram(gl, vs, fs, doValidate = true) {\n        let vShader;\n        let fShader;\n        if (!(vs instanceof WebGLShader) && vs.length < 20) {\n            const src = this.getDomSrc(vs);\n            if (!src) { return null; }\n            vShader = this.createShader(gl, src, gl.VERTEX_SHADER);\n            if (!vShader) { return null; }\n        } else if (!(vs instanceof WebGLShader)) {\n            vShader = this.createShader(gl, vs, gl.VERTEX_SHADER);\n            if (!vShader) { return null; }\n        }\n        if (!(fs instanceof WebGLShader) && fs.length < 20) {\n            const src = this.getDomSrc(fs);\n            if (!src) { return null; }\n            fShader = this.createShader(gl, src, gl.FRAGMENT_SHADER);\n            if (!fShader) { return null; }\n        } else if (!(fs instanceof WebGLShader)) {\n            fShader = this.createShader(gl, fs, gl.FRAGMENT_SHADER);\n            if (!fShader) { return null; }\n        }\n\n        const prog = gl.createProgram();\n        gl.attachShader(prog, vShader);\n        gl.attachShader(prog, fShader);\n\n        gl.bindAttribLocation(prog, Locations.VTX_ATTR_POSITION_LOC, Locations.VTX_ATTR_POSITION_NAME); // eslint-disable-line\n        gl.bindAttribLocation(prog, Locations.VTX_ATTR_NORMAL_LOC, Locations.VTX_ATTR_NORMAL_NAME);\n        gl.bindAttribLocation(prog, Locations.VTX_ATTR_UV_LOC, Locations.VTX_ATTR_UV_NAME);\n\n        gl.linkProgram(prog);\n\n        if (!gl.getProgramParameter(prog, gl.LINK_STATUS)) {\n            console.error('Error createing shader program.', gl.getProgramInfoLog(prog));\n            gl.deleteProgram(prog);\n            return null;\n        }\n\n        if (doValidate) {\n            gl.validateProgram(prog);\n            if (!gl.getProgramParameter(prog, gl.VALIDATE_STATUS)) {\n                console.error('Error validating shader program.', gl.getProgramInfoLog(prog));\n                gl.deleteProgram(prog);\n                return null;\n            }\n        }\n\n        gl.detachShader(prog, vShader);\n        gl.detachShader(prog, fShader);\n        gl.deleteShader(vShader);\n        gl.deleteShader(fShader);\n\n        return prog;\n    }\n\n    static getDefaultAttribLocation(gl, program) {\n        return {\n            position: gl.getAttribLocation(program, Locations.VTX_ATTR_POSITION_NAME),\n            normal: gl.getAttribLocation(program, Locations.VTX_ATTR_NORMAL_NAME),\n            uv: gl.getAttribLocation(program, Locations.VTX_ATTR_UV_NAME),\n        };\n    }\n\n    static getDefaultUnifomLocation(gl, program) {\n        return {\n            perspective: gl.getUniformLocation(program, 'u_proj'),\n            view: gl.getUniformLocation(program, 'u_view'),\n            world: gl.getUniformLocation(program, 'u_world'),\n        };\n    }\n}\n\nexport { ShaderUtil };\n","import { ShaderUtil } from './ShaderUtil';\n\nclass Shader {\n    constructor(gl, vs, fs) {\n        this.program = ShaderUtil.createProgram(gl, vs, fs);\n\n        if (this.program !== null) {\n            this.gl = gl;\n            gl.useProgram(this.program);\n            this.attribLoc = ShaderUtil.getDefaultAttribLocation(gl, this.program);\n            this.uniformLoc = ShaderUtil.getDefaultUnifomLocation(gl, this.program);\n        }\n    }\n\n    activate() {\n        this.gl.useProgram(this.program);\n        return this;\n    }\n\n    deactivate() {\n        this.gl.useProgram(null);\n        return this;\n    }\n\n    setPerspective(mat4Array) {\n        this.gl.uniformMatrix4fv(this.uniformLoc.perspective, false, mat4Array);\n        return this;\n    }\n\n    setViewMatrix(mat4Array) {\n        this.gl.uniformMatrix4fv(this.uniformLoc.view, false, mat4Array);\n        return this;\n    }\n\n    setWorldMatrix(mat4Array) {\n        this.gl.uniformMatrix4fv(this.uniformLoc.world, false, mat4Array);\n        return this;\n    }\n\n    dispose() {\n        if (this.gl.getParameter(this.gl.CURRENT_PROGRAM) === this.program) {\n            this.gl.useProgram(null);\n        }\n        this.gl.deleteProgram(this.program);\n    }\n\n    preRender() {} // eslint-disable-line\n\n    renderModal(modal) {\n        this.setWorldMatrix(modal.transform.getMatrix());\n        this.gl.bindVertexArray(modal.mesh.vao);\n        if (modal.mesh.indexCount) {\n            this.gl.drawElements(\n                modal.mesh.drawMode, modal.mesh.indexCount,\n                this.gl.UNSIGNED_SHORT, 0,\n            );\n        } else {\n            this.gl.drawArrays(modal.mesh.drawMode, 0, modal.mesh.vtxCount);\n        }\n        this.gl.bindVertexArray(null);\n\n        return this;\n    }\n}\n\nexport { Shader };\n","import { Shader } from './Shader';\n\nclass GridAxisShader extends Shader {\n    constructor(gl, projMat) {\n        const vs = '#version 300 es\\n' +\n            'in vec3 a_Position;\\n' +\n            'layout(location=4) in float a_Color;\\n' +\n            '\\n' +\n            'uniform mat4 u_world;\\n' +\n            'uniform mat4 u_view;\\n' +\n            'uniform mat4 u_proj;\\n' +\n            'uniform vec3 u_colors[4];\\n' +\n            '\\n' +\n            'out vec3 v_color;\\n' +\n            '\\n' +\n            'void main() {\\n' +\n            '    v_color = u_colors[int(a_Color)];\\n' +\n            '    gl_Position = u_proj * u_view * u_world * vec4(a_Position, 1.0);\\n' +\n            '}';\n\n        const fs = '#version 300 es\\n' +\n            'precision mediump float;\\n' +\n            '\\n' +\n            'in vec3 v_color;\\n' +\n            'out vec4 finalColor;\\n' +\n            '\\n' +\n            'void main() {\\n' +\n            '    finalColor = vec4(v_color, 1.0);\\n' +\n            '}';\n\n        super(gl, vs, fs);\n\n        this.setPerspective(projMat);\n\n        const uColor = gl.getUniformLocation(this.program, 'u_colors');\n        gl.uniform3fv(uColor, [0.5, 0.5, 0.5, 1, 0, 0, 0, 1, 0, 0, 0, 1]);\n\n        gl.useProgram(null);\n    }\n}\n\nexport { GridAxisShader };\n"],"names":["meshs","VTX_ATTR_POSITION_NAME","VTX_ATTR_POSITION_LOC","VTX_ATTR_NORMAL_NAME","VTX_ATTR_NORMAL_LOC","VTX_ATTR_UV_NAME","VTX_ATTR_UV_LOC","gl","getContext","canvasId","canvas","document","getElementById","antialias","error","clear","clearColor","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","setSize","width","height","mutiplier","muti","Math","max","style","clientWidth","clientHeight","viewport","createArrayBuffer","array","isStatic","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","DYNAMIC_DRAW","createMeshVAO","name","indexArray","vtxArray","normalArray","uvArray","mesh","darwMode","TRIANGLES","vao","createVertexArray","bindVertexArray","undefined","indexBuffer","indexCount","length","ELEMENT_ARRAY_BUFFER","Uint16Array","vtxBuffer","vtxComponents","vtxCount","Float32Array","enableVertexAttribArray","Locations","vertexAttribPointer","FLOAT","normalBuffer","uvBuffer","Vector3","x","y","z","v","sqrt","mag","magnitude","Matrix4","raw","identity","translate","rad","rotateY","rotateX","rotateZ","vec3","scale","invert","i","a","out","fovy","aspect","near","far","f","tan","nf","left","right","bottom","top","lr","bt","a01","a02","a03","a12","a13","a23","a00","a10","a11","a20","a21","a22","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","mat4","w","c1r1","c2r1","c3r1","c4r1","c1r2","c2r2","c3r2","c4r2","c1r3","c2r3","c3r3","c4r3","c1r4","c2r4","c3r4","c4r4","m","b","b0","b1","b2","b3","s","sin","c","cos","axis","len","t","b12","b20","b21","b22","abs","mat","Transform","position","rotation","matLocal","matNormal","forward","up","reset","vtranslate","deg2Rad","vscale","normalMat3","transformVec4","set","PI","Modal","transform","updateMatrix","Primatives","GridAxis","vertices","size","div","step","half","p","push","attrColorLoc","LINES","strideLen","BYTES_PER_ELEMENT","gridAxis","OrbitCamera","fov","ratio","perspectionMatrix","perspective","viewMatrix","mode","MODE_ORBIT","updateViewMatrix","MODE_FREE","updateDirection","CameraController","camera","self","box","getBoundingClientRect","rotateRate","panRate","zoomRate","offsetX","offsetY","initX","initY","prevX","prevY","onUpHandler","e","onMouseUp","onMoveHandler","onMouseMove","addEventListener","onMouseDown","onMouseWheel","pageX","pageY","removeEventListener","delta","min","wheelDelta","detail","panZ","dx","dy","shiftKey","panX","panY","Render","callback","fps","lastTime","isActive","frameTimeLimit","run","currentTime","performance","now","timespan","floor","requestAnimationFrame","ShaderUtil","id","ele","textContent","src","type","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","vs","fs","doValidate","vShader","fShader","WebGLShader","getDomSrc","VERTEX_SHADER","FRAGMENT_SHADER","prog","createProgram","attachShader","bindAttribLocation","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteProgram","validateProgram","VALIDATE_STATUS","detachShader","program","getAttribLocation","getUniformLocation","Shader","useProgram","attribLoc","getDefaultAttribLocation","uniformLoc","getDefaultUnifomLocation","mat4Array","uniformMatrix4fv","view","world","getParameter","CURRENT_PROGRAM","modal","setWorldMatrix","getMatrix","drawElements","drawMode","UNSIGNED_SHORT","drawArrays","GridAxisShader","projMat","setPerspective","uColor","uniform3fv"],"mappings":"AAAO,IAAMA,QAAQ,EAAd;;ACAA,IAAMC,yBAAyB,YAA/B;AACP,AAAO,IAAMC,wBAAwB,CAA9B;AACP,AAAO,IAAMC,uBAAuB,UAA7B;AACP,AAAO,IAAMC,sBAAsB,CAA5B;AACP,AAAO,IAAMC,mBAAmB,MAAzB;AACP,AAAO,IAAMC,kBAAkB,CAAxB;;ACLP;AACA,AAGA,IAAIC,WAAJ;AACA,AAAO,SAASC,UAAT,CAAoBC,QAApB,EAA8B;QAC3BC,SAASC,SAASC,cAAT,CAAwBH,QAAxB,CAAf;SACKC,OAAOF,UAAP,CAAkB,QAAlB,EAA4B,EAAEK,WAAW,IAAb,EAA5B,CAAL;QACI,CAACN,EAAL,EAAS;gBACGO,KAAR,CAAc,sEAAd;eACO,IAAP;;WAEG,IAAP;;;AAGJ,AAAO,SAASC,KAAT,GAAiB;OACjBC,UAAH,CAAc,GAAd,EAAmB,GAAnB,EAAwB,GAAxB,EAA6B,GAA7B;OACGD,KAAH,CAASR,GAAGU,gBAAH,GAAsBV,GAAGW,gBAAlC;WACO,IAAP;;;AAGJ,AAAO,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,MAAxB,EAAgCC,SAAhC,EAA2C;QAC1CC,OAAOD,aAAa,GAAxB;WACOE,KAAKC,GAAL,CAAS,CAAT,EAAYF,IAAZ,CAAP;OACGb,MAAH,CAAUgB,KAAV,CAAgBN,KAAhB,GAAwBA,KAAxB;OACGV,MAAH,CAAUgB,KAAV,CAAgBL,MAAhB,GAAyBA,MAAzB;OACGX,MAAH,CAAUU,KAAV,GAAkBb,GAAGG,MAAH,CAAUiB,WAAV,GAAwBJ,IAA1C;OACGb,MAAH,CAAUW,MAAV,GAAmBd,GAAGG,MAAH,CAAUkB,YAAV,GAAyBL,IAA5C;OACGM,QAAH,CAAY,CAAZ,EAAe,CAAf,EAAkBtB,GAAGG,MAAH,CAAUU,KAA5B,EAAmCb,GAAGG,MAAH,CAAUW,MAA7C;WACO,IAAP;;;AAGJ,AAAO,SAASS,iBAAT,CAA2BC,KAA3B,EAAmD;QAAjBC,QAAiB,uEAAN,IAAM;;QAChDC,SAAS1B,GAAG2B,YAAH,EAAf;OACGC,UAAH,CAAc5B,GAAG6B,YAAjB,EAA+BH,MAA/B;OACGI,UAAH,CAAc9B,GAAG6B,YAAjB,EAA+BL,KAA/B,EAAsCC,WAAWzB,GAAG+B,WAAd,GAA4B/B,GAAGgC,YAArE;OACGJ,UAAH,CAAc5B,GAAG6B,YAAjB,EAA+B,IAA/B;WACOH,MAAP;;;AAGJ,AAAO,SAASO,aAAT,CAAuBC,IAAvB,EAA6BC,UAA7B,EAAyCC,QAAzC,EAAmDC,WAAnD,EAAgEC,OAAhE,EAAyE;QACtEC,OAAO,EAAEC,UAAUxC,GAAGyC,SAAf,EAAb;;SAEKC,GAAL,GAAW1C,GAAG2C,iBAAH,EAAX;OACGC,eAAH,CAAmBL,KAAKG,GAAxB;;QAEIP,eAAeU,SAAf,IAA4BV,eAAe,IAA/C,EAAqD;aAC5CW,WAAL,GAAmB9C,GAAG2B,YAAH,EAAnB;aACKoB,UAAL,GAAkBZ,WAAWa,MAA7B;WACGpB,UAAH,CAAc5B,GAAGiD,oBAAjB,EAAuCV,KAAKO,WAA5C;WACGhB,UAAH,CAAc9B,GAAGiD,oBAAjB,EAAuC,IAAIC,WAAJ,CAAgBf,UAAhB,CAAvC,EAAoEnC,GAAG+B,WAAvE;WACGH,UAAH,CAAc5B,GAAGiD,oBAAjB,EAAuC,IAAvC;;;QAGAb,aAAaS,SAAb,IAA0BT,aAAa,IAA3C,EAAiD;aACxCe,SAAL,GAAiBnD,GAAG2B,YAAH,EAAjB;aACKyB,aAAL,GAAqB,CAArB;aACKC,QAAL,GAAgBjB,SAASY,MAAT,GAAkBT,KAAKa,aAAvC;;WAEGxB,UAAH,CAAc5B,GAAG6B,YAAjB,EAA+BU,KAAKY,SAApC;WACGrB,UAAH,CAAc9B,GAAG6B,YAAjB,EAA+B,IAAIyB,YAAJ,CAAiBlB,QAAjB,CAA/B,EAA2DpC,GAAG+B,WAA9D;WACGwB,uBAAH,CAA2BC,qBAA3B;WACGC,mBAAH,CAAuBD,qBAAvB,EAAwD,CAAxD,EAA2DxD,GAAG0D,KAA9D,EAAqE,KAArE,EAA4E,CAA5E,EAA+E,CAA/E;;;QAGArB,gBAAgBQ,SAAhB,IAA6BR,gBAAgB,IAAjD,EAAuD;aAC9CsB,YAAL,GAAoB3D,GAAG2B,YAAH,EAApB;;WAEGC,UAAH,CAAc5B,GAAG6B,YAAjB,EAA+BU,KAAKoB,YAApC;WACG7B,UAAH,CAAc9B,GAAG6B,YAAjB,EAA+B,IAAIyB,YAAJ,CAAiBjB,WAAjB,CAA/B,EAA8DrC,GAAG+B,WAAjE;WACGwB,uBAAH,CAA2BC,mBAA3B;WACGC,mBAAH,CAAuBD,mBAAvB,EAAsD,CAAtD,EAAyDxD,GAAG0D,KAA5D,EAAmE,KAAnE,EAA0E,CAA1E,EAA6E,CAA7E;;;QAGApB,YAAYO,SAAZ,IAAyBP,YAAY,IAAzC,EAA+C;aACtCsB,QAAL,GAAgB5D,GAAG2B,YAAH,EAAhB;;WAEGC,UAAH,CAAc5B,GAAG6B,YAAjB,EAA+BU,KAAKqB,QAApC;WACG9B,UAAH,CAAc9B,GAAG6B,YAAjB,EAA+B,IAAIyB,YAAJ,CAAiBhB,OAAjB,CAA/B,EAA0DtC,GAAG+B,WAA7D;WACGwB,uBAAH,CAA2BC,eAA3B;WACGC,mBAAH,CAAuBD,eAAvB,EAAkD,CAAlD,EAAqDxD,GAAG0D,KAAxD,EAA+D,KAA/D,EAAsE,CAAtE,EAAyE,CAAzE;;;OAGD9B,UAAH,CAAc5B,GAAG6B,YAAjB,EAA+B,IAA/B;OACGe,eAAH,CAAmB,IAAnB;;UAEMV,IAAN,IAAcK,IAAd;WACOA,IAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvFJ;AACA,IAAasB,OAAb;qBACgBC,CAAZ,EAAcC,CAAd,EAAgBC,CAAhB,EAAkB;;aAAOF,CAAL,GAASA,KAAK,GAAd,CAAmB,KAAKC,CAAL,GAASA,KAAK,GAAd,CAAmB,KAAKC,CAAL,GAASA,KAAK,GAAd;;;;;kCAEhDC,CAHd,EAGgB;;gBAELA,MAAMpB,SAAT,EAAoB,OAAO5B,KAAKiD,IAAL,CAAW,KAAKJ,CAAL,GAAO,KAAKA,CAAZ,GAAgB,KAAKC,CAAL,GAAO,KAAKA,CAA5B,GAAgC,KAAKC,CAAL,GAAO,KAAKA,CAAvD,CAAP;;;gBAGhBF,IAAIG,EAAEH,CAAF,GAAM,KAAKA,CAAnB;gBACIC,IAAIE,EAAEF,CAAF,GAAM,KAAKA,CADnB;gBAEIC,IAAIC,EAAEF,CAAF,GAAM,KAAKC,CAFnB;;mBAIO/C,KAAKiD,IAAL,CAAWJ,IAAEA,CAAF,GAAMC,IAAEA,CAAR,GAAYC,IAAEA,CAAzB,CAAP;;;;oCAGO;gBAAMG,MAAM,KAAKC,SAAL,EAAV,CAA4B,KAAKN,CAAL,IAAUK,GAAV,CAAe,KAAKJ,CAAL,IAAUI,GAAV,CAAe,KAAKH,CAAL,IAAUG,GAAV,CAAe,OAAO,IAAP;;;;+BAElFL,CAjBR,EAiBUC,CAjBV,EAiBYC,CAjBZ,EAiBc;iBAAOF,CAAL,GAASA,CAAT,CAAY,KAAKC,CAAL,GAASA,CAAT,CAAY,KAAKC,CAAL,GAASA,CAAT,CAAY,OAAO,IAAP;;;;oCAEpCC,CAnBhB,EAmBkB;iBAAOH,CAAL,IAAUG,CAAV,CAAa,KAAKF,CAAL,IAAUE,CAAV,CAAa,KAAKD,CAAL,IAAUC,CAAV,CAAa,OAAO,IAAP;;;;mCAE7C;mBAAS,CAAC,KAAKH,CAAN,EAAQ,KAAKC,CAAb,EAAe,KAAKC,CAApB,CAAP;;;;wCACG;mBAAS,IAAIV,YAAJ,CAAiB,CAAC,KAAKQ,CAAN,EAAQ,KAAKC,CAAb,EAAe,KAAKC,CAApB,CAAjB,CAAP;;;;gCACV;mBAAS,IAAIH,OAAJ,CAAY,KAAKC,CAAjB,EAAmB,KAAKC,CAAxB,EAA0B,KAAKC,CAA/B,CAAP;;;;;;;AAKb,IAAaK,OAAb;uBACiB;;aAAOC,GAAL,GAAWD,QAAQE,QAAR,EAAX;;;;;;;;;mCAIJN,CALf,EAKiB;oBAAWO,SAAR,CAAkB,KAAKF,GAAvB,EAA2BL,EAAEH,CAA7B,EAA+BG,EAAEF,CAAjC,EAAmCE,EAAED,CAArC,EAAyC,OAAO,IAAP;;;;kCAC/CF,CANd,EAMgBC,CANhB,EAMkBC,CANlB,EAMoB;oBAAUQ,SAAR,CAAkB,KAAKF,GAAvB,EAA2BR,CAA3B,EAA6BC,CAA7B,EAA+BC,CAA/B,EAAmC,OAAO,IAAP;;;;gCAE7CS,GARZ,EAQgB;oBAAWC,OAAR,CAAgB,KAAKJ,GAArB,EAAyBG,GAAzB,EAA+B,OAAO,IAAP;;;;gCACtCA,GATZ,EASgB;oBAAWE,OAAR,CAAgB,KAAKL,GAArB,EAAyBG,GAAzB,EAA+B,OAAO,IAAP;;;;gCACtCA,GAVZ,EAUgB;oBAAWG,OAAR,CAAgB,KAAKN,GAArB,EAAyBG,GAAzB,EAA+B,OAAO,IAAP;;;;+BAEvCI,IAZX,EAYgB;oBAAWC,KAAR,CAAc,KAAKR,GAAnB,EAAuBO,KAAKf,CAA5B,EAA8Be,KAAKd,CAAnC,EAAqCc,KAAKb,CAA1C,EAA8C,OAAO,IAAP;;;;8BACvDF,CAbV,EAaYC,CAbZ,EAacC,CAbd,EAagB;oBAAWc,KAAR,CAAc,KAAKR,GAAnB,EAAuBR,CAAvB,EAAyBC,CAAzB,EAA2BC,CAA3B,EAA+B,OAAO,IAAP;;;;iCAEtC;oBAAYe,MAAR,CAAe,KAAKT,GAApB,EAA0B,OAAO,IAAP;;;;;;;;;wCAKvB;iBACP,IAAIU,IAAE,CAAV,EAAaA,IAAI,KAAKV,GAAL,CAAStB,MAA1B,EAAkCgC,GAAlC,EAAsC;oBAC/BA,KAAK,EAAL,IAAWA,KAAK,EAAnB,EAAuB;qBAClBV,GAAL,CAASU,CAAT,IAAeA,IAAI,CAAJ,IAAS,CAAV,GAAc,CAAd,GAAkB,CAAhC,CAFkC;;;mBAK/B,IAAP;;;;;;;gCAIG;iBACC,IAAIA,IAAE,CAAV,EAAaA,IAAI,KAAKV,GAAL,CAAStB,MAA1B,EAAkCgC,GAAlC;qBAA4CV,GAAL,CAASU,CAAT,IAAeA,IAAI,CAAJ,IAAS,CAAV,GAAc,CAAd,GAAkB,CAAhC;aADpC;mBAEI,IAAP;;;;;;;;mCAKa;gBACTC,IAAI,IAAI3B,YAAJ,CAAiB,EAAjB,CAAR;cACE,CAAF,IAAO2B,EAAE,CAAF,IAAOA,EAAE,EAAF,IAAQA,EAAE,EAAF,IAAQ,CAA9B;mBACOA,CAAP;;;;;;;oCAIeC,GA5CvB,EA4C4BC,IA5C5B,EA4CkCC,MA5ClC,EA4C0CC,IA5C1C,EA4CgDC,GA5ChD,EA4CoD;gBACxCC,IAAI,MAAMtE,KAAKuE,GAAL,CAASL,OAAO,CAAhB,CAAd;gBACIM,KAAK,KAAKJ,OAAOC,GAAZ,CADT;gBAEI,CAAJ,IAASC,IAAIH,MAAb;gBACI,CAAJ,IAAS,CAAT;gBACI,CAAJ,IAAS,CAAT;gBACI,CAAJ,IAAS,CAAT;gBACI,CAAJ,IAAS,CAAT;gBACI,CAAJ,IAASG,CAAT;gBACI,CAAJ,IAAS,CAAT;gBACI,CAAJ,IAAS,CAAT;gBACI,CAAJ,IAAS,CAAT;gBACI,CAAJ,IAAS,CAAT;gBACI,EAAJ,IAAU,CAACD,MAAMD,IAAP,IAAeI,EAAzB;gBACI,EAAJ,IAAU,CAAC,CAAX;gBACI,EAAJ,IAAU,CAAV;gBACI,EAAJ,IAAU,CAAV;gBACI,EAAJ,IAAW,IAAIH,GAAJ,GAAUD,IAAX,GAAmBI,EAA7B;gBACI,EAAJ,IAAU,CAAV;;;;8BAISP,GAlEjB,EAkEsBQ,IAlEtB,EAkE4BC,KAlE5B,EAkEmCC,MAlEnC,EAkE2CC,GAlE3C,EAkEgDR,IAlEhD,EAkEsDC,GAlEtD,EAkE2D;gBAC/CQ,KAAK,KAAKJ,OAAOC,KAAZ,CAAT;gBACII,KAAK,KAAKH,SAASC,GAAd,CADT;gBAEIJ,KAAK,KAAKJ,OAAOC,GAAZ,CAFT;gBAGI,CAAJ,IAAS,CAAC,CAAD,GAAKQ,EAAd;gBACI,CAAJ,IAAS,CAAT;gBACI,CAAJ,IAAS,CAAT;gBACI,CAAJ,IAAS,CAAT;gBACI,CAAJ,IAAS,CAAT;gBACI,CAAJ,IAAS,CAAC,CAAD,GAAKC,EAAd;gBACI,CAAJ,IAAS,CAAT;gBACI,CAAJ,IAAS,CAAT;gBACI,CAAJ,IAAS,CAAT;gBACI,CAAJ,IAAS,CAAT;gBACI,EAAJ,IAAU,IAAIN,EAAd;gBACI,EAAJ,IAAU,CAAV;gBACI,EAAJ,IAAU,CAACC,OAAOC,KAAR,IAAiBG,EAA3B;gBACI,EAAJ,IAAU,CAACD,MAAMD,MAAP,IAAiBG,EAA3B;gBACI,EAAJ,IAAU,CAACT,MAAMD,IAAP,IAAeI,EAAzB;gBACI,EAAJ,IAAU,CAAV;;;;;;;;kCAMaP,GA3FrB,EA2F0BD,CA3F1B,EA2F4B;;gBAEhBC,QAAQD,CAAZ,EAAe;oBACPe,MAAMf,EAAE,CAAF,CAAV;oBAAgBgB,MAAMhB,EAAE,CAAF,CAAtB;oBAA4BiB,MAAMjB,EAAE,CAAF,CAAlC;oBAAwCkB,MAAMlB,EAAE,CAAF,CAA9C;oBAAoDmB,MAAMnB,EAAE,CAAF,CAA1D;oBAAgEoB,MAAMpB,EAAE,EAAF,CAAtE;oBACI,CAAJ,IAASA,EAAE,CAAF,CAAT;oBACI,CAAJ,IAASA,EAAE,CAAF,CAAT;oBACI,CAAJ,IAASA,EAAE,EAAF,CAAT;oBACI,CAAJ,IAASe,GAAT;oBACI,CAAJ,IAASf,EAAE,CAAF,CAAT;oBACI,CAAJ,IAASA,EAAE,EAAF,CAAT;oBACI,CAAJ,IAASgB,GAAT;oBACI,CAAJ,IAASE,GAAT;oBACI,EAAJ,IAAUlB,EAAE,EAAF,CAAV;oBACI,EAAJ,IAAUiB,GAAV;oBACI,EAAJ,IAAUE,GAAV;oBACI,EAAJ,IAAUC,GAAV;aAbJ,MAcK;oBACG,CAAJ,IAASpB,EAAE,CAAF,CAAT;oBACI,CAAJ,IAASA,EAAE,CAAF,CAAT;oBACI,CAAJ,IAASA,EAAE,CAAF,CAAT;oBACI,CAAJ,IAASA,EAAE,EAAF,CAAT;oBACI,CAAJ,IAASA,EAAE,CAAF,CAAT;oBACI,CAAJ,IAASA,EAAE,CAAF,CAAT;oBACI,CAAJ,IAASA,EAAE,CAAF,CAAT;oBACI,CAAJ,IAASA,EAAE,EAAF,CAAT;oBACI,CAAJ,IAASA,EAAE,CAAF,CAAT;oBACI,CAAJ,IAASA,EAAE,CAAF,CAAT;oBACI,EAAJ,IAAUA,EAAE,EAAF,CAAV;oBACI,EAAJ,IAAUA,EAAE,EAAF,CAAV;oBACI,EAAJ,IAAUA,EAAE,CAAF,CAAV;oBACI,EAAJ,IAAUA,EAAE,CAAF,CAAV;oBACI,EAAJ,IAAUA,EAAE,EAAF,CAAV;oBACI,EAAJ,IAAUA,EAAE,EAAF,CAAV;;;mBAGGC,GAAP;;;;;;;mCAIcA,GAlItB,EAkI0BD,CAlI1B,EAkI4B;gBAChBqB,MAAMrB,EAAE,CAAF,CAAV;gBAAgBe,MAAMf,EAAE,CAAF,CAAtB;gBAA4BgB,MAAMhB,EAAE,CAAF,CAAlC;gBAAwCiB,MAAMjB,EAAE,CAAF,CAA9C;gBACIsB,MAAMtB,EAAE,CAAF,CADV;gBACgBuB,MAAMvB,EAAE,CAAF,CADtB;gBAC4BkB,MAAMlB,EAAE,CAAF,CADlC;gBACwCmB,MAAMnB,EAAE,CAAF,CAD9C;gBAEIwB,MAAMxB,EAAE,CAAF,CAFV;gBAEgByB,MAAMzB,EAAE,CAAF,CAFtB;gBAE4B0B,MAAM1B,EAAE,EAAF,CAFlC;gBAEyCoB,MAAMpB,EAAE,EAAF,CAF/C;gBAGI2B,MAAM3B,EAAE,EAAF,CAHV;gBAGiB4B,MAAM5B,EAAE,EAAF,CAHvB;gBAG8B6B,MAAM7B,EAAE,EAAF,CAHpC;gBAG2C8B,MAAM9B,EAAE,EAAF,CAHjD;gBAKI+B,MAAMV,MAAME,GAAN,GAAYR,MAAMO,GAL5B;gBAMIU,MAAMX,MAAMH,GAAN,GAAYF,MAAMM,GAN5B;gBAOIW,MAAMZ,MAAMF,GAAN,GAAYF,MAAMK,GAP5B;gBAQIY,MAAMnB,MAAMG,GAAN,GAAYF,MAAMO,GAR5B;gBASIY,MAAMpB,MAAMI,GAAN,GAAYF,MAAMM,GAT5B;gBAUIa,MAAMpB,MAAMG,GAAN,GAAYF,MAAMC,GAV5B;gBAWImB,MAAMb,MAAMI,GAAN,GAAYH,MAAME,GAX5B;gBAYIW,MAAMd,MAAMK,GAAN,GAAYH,MAAMC,GAZ5B;gBAaIY,MAAMf,MAAMM,GAAN,GAAYV,MAAMO,GAb5B;gBAcIa,MAAMf,MAAMI,GAAN,GAAYH,MAAME,GAd5B;gBAeIa,MAAMhB,MAAMK,GAAN,GAAYV,MAAMQ,GAf5B;gBAgBIc,MAAMhB,MAAMI,GAAN,GAAYV,MAAMS,GAhB5B;;;;kBAmBUE,MAAMW,GAAN,GAAYV,MAAMS,GAAlB,GAAwBR,MAAMO,GAA9B,GAAoCN,MAAMK,GAA1C,GAAgDJ,MAAMG,GAAtD,GAA4DF,MAAMC,GAnB5E;;gBAqBI,CAACM,GAAL,EAAU,OAAO,IAAP;;kBAEJ,MAAMA,GAAZ;;gBAEI,CAAJ,IAAS,CAACpB,MAAMmB,GAAN,GAAYxB,MAAMuB,GAAlB,GAAwBtB,MAAMqB,GAA/B,IAAsCG,GAA/C;gBACI,CAAJ,IAAS,CAACzB,MAAMqB,GAAN,GAAYjB,MAAMoB,GAAlB,GAAwBvB,MAAMmB,GAA/B,IAAsCK,GAA/C;gBACI,CAAJ,IAAS,CAACrB,MAAMmB,GAAN,GAAYlB,MAAMgB,GAAlB,GAAwBpB,MAAMkB,GAA/B,IAAsCM,GAA/C;;gBAEI,CAAJ,IAAS,CAAC3B,MAAMyB,GAAN,GAAY1B,MAAM2B,GAAlB,GAAwBzB,MAAMuB,GAA/B,IAAsCG,GAA/C;gBACI,CAAJ,IAAS,CAACtB,MAAMqB,GAAN,GAAY1B,MAAMuB,GAAlB,GAAwBtB,MAAMqB,GAA/B,IAAsCK,GAA/C;gBACI,CAAJ,IAAS,CAAC5B,MAAMwB,GAAN,GAAYlB,MAAMoB,GAAlB,GAAwBxB,MAAMoB,GAA/B,IAAsCM,GAA/C;;gBAEI,CAAJ,IAAS,CAACf,MAAMQ,GAAN,GAAYP,MAAMM,GAAlB,GAAwBL,MAAMI,GAA/B,IAAsCS,GAA/C;gBACI,CAAJ,IAAS,CAACd,MAAMI,GAAN,GAAYN,MAAMS,GAAlB,GAAwBN,MAAME,GAA/B,IAAsCW,GAA/C;gBACI,CAAJ,IAAS,CAAChB,MAAMQ,GAAN,GAAYP,MAAMK,GAAlB,GAAwBH,MAAMC,GAA/B,IAAsCY,GAA/C;mBACO1C,GAAP;;;;;;;;;;uCAOkB2C,IA9K1B,EA8KgC5D,CA9KhC,EA8KmC;gBACvBH,IAAIG,EAAE,CAAF,CAAR;gBAAcF,IAAIE,EAAE,CAAF,CAAlB;gBAAwBD,IAAIC,EAAE,CAAF,CAA5B;gBAAkC6D,IAAI7D,EAAE,CAAF,CAAtC;gBACI8D,OAAOF,KAAM,CAAN,CAAX;gBAAqBG,OAAOH,KAAM,CAAN,CAA5B;gBAAsCI,OAAOJ,KAAM,CAAN,CAA7C;gBAAuDK,OAAOL,KAAM,CAAN,CAA9D;gBACIM,OAAON,KAAM,CAAN,CADX;gBACqBO,OAAOP,KAAM,CAAN,CAD5B;gBACsCQ,OAAOR,KAAM,CAAN,CAD7C;gBACuDS,OAAOT,KAAM,CAAN,CAD9D;gBAEIU,OAAOV,KAAM,CAAN,CAFX;gBAEqBW,OAAOX,KAAM,CAAN,CAF5B;gBAEsCY,OAAOZ,KAAK,EAAL,CAF7C;gBAEuDa,OAAOb,KAAK,EAAL,CAF9D;gBAGIc,OAAOd,KAAK,EAAL,CAHX;gBAGqBe,OAAOf,KAAK,EAAL,CAH5B;gBAGsCgB,OAAOhB,KAAK,EAAL,CAH7C;gBAGuDiB,OAAOjB,KAAK,EAAL,CAH9D;;mBAKO,CACH/D,IAAEiE,IAAF,GAAShE,IAAEoE,IAAX,GAAkBnE,IAAEuE,IAApB,GAA2BT,IAAEa,IAD1B,EAEH7E,IAAEkE,IAAF,GAASjE,IAAEqE,IAAX,GAAkBpE,IAAEwE,IAApB,GAA2BV,IAAEc,IAF1B,EAGH9E,IAAEmE,IAAF,GAASlE,IAAEsE,IAAX,GAAkBrE,IAAEyE,IAApB,GAA2BX,IAAEe,IAH1B,EAIH/E,IAAEoE,IAAF,GAASnE,IAAEuE,IAAX,GAAkBtE,IAAE0E,IAApB,GAA2BZ,IAAEgB,IAJ1B,CAAP;;;;;;;sCASiB5D,GA9LzB,EA8L8BjB,CA9L9B,EA8LiC8E,CA9LjC,EA8LmC;gBACvB,CAAJ,IAASA,EAAE,CAAF,IAAO9E,EAAE,CAAF,CAAP,GAAc8E,EAAE,CAAF,IAAO9E,EAAE,CAAF,CAArB,GAA4B8E,EAAE,CAAF,IAAO9E,EAAE,CAAF,CAAnC,GAA0C8E,EAAE,EAAF,IAAQ9E,EAAE,CAAF,CAA3D;gBACI,CAAJ,IAAS8E,EAAE,CAAF,IAAO9E,EAAE,CAAF,CAAP,GAAc8E,EAAE,CAAF,IAAO9E,EAAE,CAAF,CAArB,GAA4B8E,EAAE,CAAF,IAAO9E,EAAE,CAAF,CAAnC,GAA0C8E,EAAE,EAAF,IAAQ9E,EAAE,CAAF,CAA3D;gBACI,CAAJ,IAAS8E,EAAE,CAAF,IAAO9E,EAAE,CAAF,CAAP,GAAc8E,EAAE,CAAF,IAAO9E,EAAE,CAAF,CAArB,GAA4B8E,EAAE,EAAF,IAAQ9E,EAAE,CAAF,CAApC,GAA2C8E,EAAE,EAAF,IAAQ9E,EAAE,CAAF,CAA5D;gBACI,CAAJ,IAAS8E,EAAE,CAAF,IAAO9E,EAAE,CAAF,CAAP,GAAc8E,EAAE,CAAF,IAAO9E,EAAE,CAAF,CAArB,GAA4B8E,EAAE,EAAF,IAAQ9E,EAAE,CAAF,CAApC,GAA2C8E,EAAE,EAAF,IAAQ9E,EAAE,CAAF,CAA5D;mBACOiB,GAAP;;;;;;;;6BAKQA,GAxMhB,EAwMqBD,CAxMrB,EAwMwB+D,CAxMxB,EAwM0B;gBACd1C,MAAMrB,EAAE,CAAF,CAAV;gBAAgBe,MAAMf,EAAE,CAAF,CAAtB;gBAA4BgB,MAAMhB,EAAE,CAAF,CAAlC;gBAAwCiB,MAAMjB,EAAE,CAAF,CAA9C;gBACIsB,MAAMtB,EAAE,CAAF,CADV;gBACgBuB,MAAMvB,EAAE,CAAF,CADtB;gBAC4BkB,MAAMlB,EAAE,CAAF,CADlC;gBACwCmB,MAAMnB,EAAE,CAAF,CAD9C;gBAEIwB,MAAMxB,EAAE,CAAF,CAFV;gBAEgByB,MAAMzB,EAAE,CAAF,CAFtB;gBAE4B0B,MAAM1B,EAAE,EAAF,CAFlC;gBAEyCoB,MAAMpB,EAAE,EAAF,CAF/C;gBAGI2B,MAAM3B,EAAE,EAAF,CAHV;gBAGiB4B,MAAM5B,EAAE,EAAF,CAHvB;gBAG8B6B,MAAM7B,EAAE,EAAF,CAHpC;gBAG2C8B,MAAM9B,EAAE,EAAF,CAHjD;;;gBAMIgE,KAAMD,EAAE,CAAF,CAAV;gBAAgBE,KAAKF,EAAE,CAAF,CAArB;gBAA2BG,KAAKH,EAAE,CAAF,CAAhC;gBAAsCI,KAAKJ,EAAE,CAAF,CAA3C;gBACI,CAAJ,IAASC,KAAG3C,GAAH,GAAS4C,KAAG3C,GAAZ,GAAkB4C,KAAG1C,GAArB,GAA2B2C,KAAGxC,GAAvC;gBACI,CAAJ,IAASqC,KAAGjD,GAAH,GAASkD,KAAG1C,GAAZ,GAAkB2C,KAAGzC,GAArB,GAA2B0C,KAAGvC,GAAvC;gBACI,CAAJ,IAASoC,KAAGhD,GAAH,GAASiD,KAAG/C,GAAZ,GAAkBgD,KAAGxC,GAArB,GAA2ByC,KAAGtC,GAAvC;gBACI,CAAJ,IAASmC,KAAG/C,GAAH,GAASgD,KAAG9C,GAAZ,GAAkB+C,KAAG9C,GAArB,GAA2B+C,KAAGrC,GAAvC;;iBAEKiC,EAAE,CAAF,CAAL,CAAWE,KAAKF,EAAE,CAAF,CAAL,CAAWG,KAAKH,EAAE,CAAF,CAAL,CAAWI,KAAKJ,EAAE,CAAF,CAAL;gBAC7B,CAAJ,IAASC,KAAG3C,GAAH,GAAS4C,KAAG3C,GAAZ,GAAkB4C,KAAG1C,GAArB,GAA2B2C,KAAGxC,GAAvC;gBACI,CAAJ,IAASqC,KAAGjD,GAAH,GAASkD,KAAG1C,GAAZ,GAAkB2C,KAAGzC,GAArB,GAA2B0C,KAAGvC,GAAvC;gBACI,CAAJ,IAASoC,KAAGhD,GAAH,GAASiD,KAAG/C,GAAZ,GAAkBgD,KAAGxC,GAArB,GAA2ByC,KAAGtC,GAAvC;gBACI,CAAJ,IAASmC,KAAG/C,GAAH,GAASgD,KAAG9C,GAAZ,GAAkB+C,KAAG9C,GAArB,GAA2B+C,KAAGrC,GAAvC;;iBAEKiC,EAAE,CAAF,CAAL,CAAWE,KAAKF,EAAE,CAAF,CAAL,CAAWG,KAAKH,EAAE,EAAF,CAAL,CAAYI,KAAKJ,EAAE,EAAF,CAAL;gBAC9B,CAAJ,IAASC,KAAG3C,GAAH,GAAS4C,KAAG3C,GAAZ,GAAkB4C,KAAG1C,GAArB,GAA2B2C,KAAGxC,GAAvC;gBACI,CAAJ,IAASqC,KAAGjD,GAAH,GAASkD,KAAG1C,GAAZ,GAAkB2C,KAAGzC,GAArB,GAA2B0C,KAAGvC,GAAvC;gBACI,EAAJ,IAAUoC,KAAGhD,GAAH,GAASiD,KAAG/C,GAAZ,GAAkBgD,KAAGxC,GAArB,GAA2ByC,KAAGtC,GAAxC;gBACI,EAAJ,IAAUmC,KAAG/C,GAAH,GAASgD,KAAG9C,GAAZ,GAAkB+C,KAAG9C,GAArB,GAA2B+C,KAAGrC,GAAxC;;iBAEKiC,EAAE,EAAF,CAAL,CAAYE,KAAKF,EAAE,EAAF,CAAL,CAAYG,KAAKH,EAAE,EAAF,CAAL,CAAYI,KAAKJ,EAAE,EAAF,CAAL;gBAChC,EAAJ,IAAUC,KAAG3C,GAAH,GAAS4C,KAAG3C,GAAZ,GAAkB4C,KAAG1C,GAArB,GAA2B2C,KAAGxC,GAAxC;gBACI,EAAJ,IAAUqC,KAAGjD,GAAH,GAASkD,KAAG1C,GAAZ,GAAkB2C,KAAGzC,GAArB,GAA2B0C,KAAGvC,GAAxC;gBACI,EAAJ,IAAUoC,KAAGhD,GAAH,GAASiD,KAAG/C,GAAZ,GAAkBgD,KAAGxC,GAArB,GAA2ByC,KAAGtC,GAAxC;gBACI,EAAJ,IAAUmC,KAAG/C,GAAH,GAASgD,KAAG9C,GAAZ,GAAkB+C,KAAG9C,GAArB,GAA2B+C,KAAGrC,GAAxC;mBACO7B,GAAP;;;;;;;;8BAMSA,GA5OjB,EA4OqBpB,CA5OrB,EA4OuBC,CA5OvB,EA4OyBC,CA5OzB,EA4O2B;gBACf,CAAJ,KAAUF,CAAV;gBACI,CAAJ,KAAUA,CAAV;gBACI,CAAJ,KAAUA,CAAV;gBACI,CAAJ,KAAUA,CAAV;gBACI,CAAJ,KAAUC,CAAV;gBACI,CAAJ,KAAUA,CAAV;gBACI,CAAJ,KAAUA,CAAV;gBACI,CAAJ,KAAUA,CAAV;gBACI,CAAJ,KAAUC,CAAV;gBACI,CAAJ,KAAUA,CAAV;gBACI,EAAJ,KAAWA,CAAX;gBACI,EAAJ,KAAWA,CAAX;mBACOkB,GAAP;;;;gCAGWA,GA5PnB,EA4PuBT,GA5PvB,EA4P4B;gBAChB4E,IAAIpI,KAAKqI,GAAL,CAAS7E,GAAT,CAAR;gBACI8E,IAAItI,KAAKuI,GAAL,CAAS/E,GAAT,CADR;gBAEI6B,MAAMpB,IAAI,CAAJ,CAFV;gBAGIc,MAAMd,IAAI,CAAJ,CAHV;gBAIIe,MAAMf,IAAI,CAAJ,CAJV;gBAKIgB,MAAMhB,IAAI,CAAJ,CALV;gBAMIuB,MAAMvB,IAAI,CAAJ,CANV;gBAOIwB,MAAMxB,IAAI,CAAJ,CAPV;gBAQIyB,MAAMzB,IAAI,EAAJ,CARV;gBASImB,MAAMnB,IAAI,EAAJ,CATV;;;gBAYI,CAAJ,IAASoB,MAAMiD,CAAN,GAAU9C,MAAM4C,CAAzB;gBACI,CAAJ,IAASrD,MAAMuD,CAAN,GAAU7C,MAAM2C,CAAzB;gBACI,CAAJ,IAASpD,MAAMsD,CAAN,GAAU5C,MAAM0C,CAAzB;gBACI,CAAJ,IAASnD,MAAMqD,CAAN,GAAUlD,MAAMgD,CAAzB;gBACI,CAAJ,IAAS/C,MAAM+C,CAAN,GAAU5C,MAAM8C,CAAzB;gBACI,CAAJ,IAASvD,MAAMqD,CAAN,GAAU3C,MAAM6C,CAAzB;gBACI,EAAJ,IAAUtD,MAAMoD,CAAN,GAAU1C,MAAM4C,CAA1B;gBACI,EAAJ,IAAUrD,MAAMmD,CAAN,GAAUhD,MAAMkD,CAA1B;mBACOrE,GAAP;;;;gCAGWA,GApRnB,EAoRuBT,GApRvB,EAoR4B;gBAChB4E,IAAIpI,KAAKqI,GAAL,CAAS7E,GAAT,CAAR;gBACI8E,IAAItI,KAAKuI,GAAL,CAAS/E,GAAT,CADR;gBAEI8B,MAAMrB,IAAI,CAAJ,CAFV;gBAGIsB,MAAMtB,IAAI,CAAJ,CAHV;gBAIIiB,MAAMjB,IAAI,CAAJ,CAJV;gBAKIkB,MAAMlB,IAAI,CAAJ,CALV;gBAMIuB,MAAMvB,IAAI,CAAJ,CANV;gBAOIwB,MAAMxB,IAAI,CAAJ,CAPV;gBAQIyB,MAAMzB,IAAI,EAAJ,CARV;gBASImB,MAAMnB,IAAI,EAAJ,CATV;;;gBAYI,CAAJ,IAASqB,MAAMgD,CAAN,GAAU9C,MAAM4C,CAAzB;gBACI,CAAJ,IAAS7C,MAAM+C,CAAN,GAAU7C,MAAM2C,CAAzB;gBACI,CAAJ,IAASlD,MAAMoD,CAAN,GAAU5C,MAAM0C,CAAzB;gBACI,CAAJ,IAASjD,MAAMmD,CAAN,GAAUlD,MAAMgD,CAAzB;gBACI,CAAJ,IAAS5C,MAAM8C,CAAN,GAAUhD,MAAM8C,CAAzB;gBACI,CAAJ,IAAS3C,MAAM6C,CAAN,GAAU/C,MAAM6C,CAAzB;gBACI,EAAJ,IAAU1C,MAAM4C,CAAN,GAAUpD,MAAMkD,CAA1B;gBACI,EAAJ,IAAUhD,MAAMkD,CAAN,GAAUnD,MAAMiD,CAA1B;mBACOnE,GAAP;;;;gCAGWA,GA5SnB,EA4SuBT,GA5SvB,EA4S2B;gBACf4E,IAAIpI,KAAKqI,GAAL,CAAS7E,GAAT,CAAR;gBACI8E,IAAItI,KAAKuI,GAAL,CAAS/E,GAAT,CADR;gBAEI6B,MAAMpB,IAAI,CAAJ,CAFV;gBAGIc,MAAMd,IAAI,CAAJ,CAHV;gBAIIe,MAAMf,IAAI,CAAJ,CAJV;gBAKIgB,MAAMhB,IAAI,CAAJ,CALV;gBAMIqB,MAAMrB,IAAI,CAAJ,CANV;gBAOIsB,MAAMtB,IAAI,CAAJ,CAPV;gBAQIiB,MAAMjB,IAAI,CAAJ,CARV;gBASIkB,MAAMlB,IAAI,CAAJ,CATV;;;gBAYI,CAAJ,IAASoB,MAAMiD,CAAN,GAAUhD,MAAM8C,CAAzB;gBACI,CAAJ,IAASrD,MAAMuD,CAAN,GAAU/C,MAAM6C,CAAzB;gBACI,CAAJ,IAASpD,MAAMsD,CAAN,GAAUpD,MAAMkD,CAAzB;gBACI,CAAJ,IAASnD,MAAMqD,CAAN,GAAUnD,MAAMiD,CAAzB;gBACI,CAAJ,IAAS9C,MAAMgD,CAAN,GAAUjD,MAAM+C,CAAzB;gBACI,CAAJ,IAAS7C,MAAM+C,CAAN,GAAUvD,MAAMqD,CAAzB;gBACI,CAAJ,IAASlD,MAAMoD,CAAN,GAAUtD,MAAMoD,CAAzB;gBACI,CAAJ,IAASjD,MAAMmD,CAAN,GAAUrD,MAAMmD,CAAzB;mBACOnE,GAAP;;;;+BAGUA,GApUlB,EAoUuBT,GApUvB,EAoU4BgF,IApU5B,EAoUiC;gBACrB3F,IAAI2F,KAAK,CAAL,CAAR;gBAAiB1F,IAAI0F,KAAK,CAAL,CAArB;gBAA8BzF,IAAIyF,KAAK,CAAL,CAAlC;gBACIC,MAAMzI,KAAKiD,IAAL,CAAUJ,IAAIA,CAAJ,GAAQC,IAAIA,CAAZ,GAAgBC,IAAIA,CAA9B,CADV;gBAEIqF,CAFJ;gBAEOE,CAFP;gBAEUI,CAFV;gBAGIrD,GAHJ;gBAGSN,GAHT;gBAGcC,GAHd;gBAGmBC,GAHnB;gBAIIK,GAJJ;gBAISC,GAJT;gBAIcL,GAJd;gBAImBC,GAJnB;gBAKIK,GALJ;gBAKSC,GALT;gBAKcC,GALd;gBAKmBN,GALnB;gBAMIW,GANJ;gBAMSC,GANT;gBAMcC,GANd;gBAOIQ,GAPJ;gBAOSC,GAPT;gBAOciC,GAPd;gBAQIC,GARJ;gBAQSC,GART;gBAQcC,GARd;;gBAUI9I,KAAK+I,GAAL,CAASN,GAAT,IAAgB,QAApB,EAA8B;uBAAS,IAAP;;;kBAE1B,IAAIA,GAAV;iBACKA,GAAL;iBACKA,GAAL;iBACKA,GAAL;;gBAEIzI,KAAKqI,GAAL,CAAS7E,GAAT,CAAJ;gBACIxD,KAAKuI,GAAL,CAAS/E,GAAT,CAAJ;gBACI,IAAI8E,CAAR;;kBAEMrE,IAAI,CAAJ,CAAN,CAAcc,MAAMd,IAAI,CAAJ,CAAN,CAAce,MAAMf,IAAI,CAAJ,CAAN,CAAcgB,MAAMhB,IAAI,CAAJ,CAAN;kBACpCA,IAAI,CAAJ,CAAN,CAAcsB,MAAMtB,IAAI,CAAJ,CAAN,CAAciB,MAAMjB,IAAI,CAAJ,CAAN,CAAckB,MAAMlB,IAAI,CAAJ,CAAN;kBACpCA,IAAI,CAAJ,CAAN,CAAcwB,MAAMxB,IAAI,CAAJ,CAAN,CAAcyB,MAAMzB,IAAI,EAAJ,CAAN,CAAemB,MAAMnB,IAAI,EAAJ,CAAN;;;kBAGrCpB,IAAIA,CAAJ,GAAQ6F,CAAR,GAAYJ,CAAlB,CAAqBtC,MAAMlD,IAAID,CAAJ,GAAQ6F,CAAR,GAAY3F,IAAIqF,CAAtB,CAAyBnC,MAAMlD,IAAIF,CAAJ,GAAQ6F,CAAR,GAAY5F,IAAIsF,CAAtB;kBACxCvF,IAAIC,CAAJ,GAAQ4F,CAAR,GAAY3F,IAAIqF,CAAtB,CAAyB1B,MAAM5D,IAAIA,CAAJ,GAAQ4F,CAAR,GAAYJ,CAAlB,CAAqBK,MAAM5F,IAAID,CAAJ,GAAQ4F,CAAR,GAAY7F,IAAIuF,CAAtB;kBACxCvF,IAAIE,CAAJ,GAAQ2F,CAAR,GAAY5F,IAAIsF,CAAtB,CAAyBS,MAAM/F,IAAIC,CAAJ,GAAQ2F,CAAR,GAAY7F,IAAIuF,CAAtB,CAAyBU,MAAM/F,IAAIA,CAAJ,GAAQ2F,CAAR,GAAYJ,CAAlB;;;gBAG9C,CAAJ,IAASjD,MAAMU,GAAN,GAAYT,MAAMU,GAAlB,GAAwBR,MAAMS,GAAvC;gBACI,CAAJ,IAASlB,MAAMgB,GAAN,GAAYR,MAAMS,GAAlB,GAAwBP,MAAMQ,GAAvC;gBACI,CAAJ,IAASjB,MAAMe,GAAN,GAAYb,MAAMc,GAAlB,GAAwBN,MAAMO,GAAvC;gBACI,CAAJ,IAAShB,MAAMc,GAAN,GAAYZ,MAAMa,GAAlB,GAAwBZ,MAAMa,GAAvC;gBACI,CAAJ,IAASZ,MAAMoB,GAAN,GAAYnB,MAAMoB,GAAlB,GAAwBlB,MAAMmD,GAAvC;gBACI,CAAJ,IAAS5D,MAAM0B,GAAN,GAAYlB,MAAMmB,GAAlB,GAAwBjB,MAAMkD,GAAvC;gBACI,CAAJ,IAAS3D,MAAMyB,GAAN,GAAYvB,MAAMwB,GAAlB,GAAwBhB,MAAMiD,GAAvC;gBACI,CAAJ,IAAS1D,MAAMwB,GAAN,GAAYtB,MAAMuB,GAAlB,GAAwBtB,MAAMuD,GAAvC;gBACI,CAAJ,IAAStD,MAAMuD,GAAN,GAAYtD,MAAMuD,GAAlB,GAAwBrD,MAAMsD,GAAvC;gBACI,CAAJ,IAAS/D,MAAM6D,GAAN,GAAYrD,MAAMsD,GAAlB,GAAwBpD,MAAMqD,GAAvC;gBACI,EAAJ,IAAU9D,MAAM4D,GAAN,GAAY1D,MAAM2D,GAAlB,GAAwBnD,MAAMoD,GAAxC;gBACI,EAAJ,IAAU7D,MAAM2D,GAAN,GAAYzD,MAAM0D,GAAlB,GAAwBzD,MAAM0D,GAAxC;;;;+BAGU7E,GAlXlB,EAkXsB+E,GAlXtB,EAkX2B;gBAChBA,QAAQpH,SAAX,EAAsBoH,MAAM/E,GAAN,CADH;;gBAGfoB,MAAM2D,IAAI,CAAJ,CAAV;gBAAkBjE,MAAMiE,IAAI,CAAJ,CAAxB;gBAAgChE,MAAMgE,IAAI,CAAJ,CAAtC;gBAA8C/D,MAAM+D,IAAI,CAAJ,CAApD;gBACI1D,MAAM0D,IAAI,CAAJ,CADV;gBACkBzD,MAAMyD,IAAI,CAAJ,CADxB;gBACgC9D,MAAM8D,IAAI,CAAJ,CADtC;gBAC8C7D,MAAM6D,IAAI,CAAJ,CADpD;gBAEIxD,MAAMwD,IAAI,CAAJ,CAFV;gBAEkBvD,MAAMuD,IAAI,CAAJ,CAFxB;gBAEgCtD,MAAMsD,IAAI,EAAJ,CAFtC;gBAE+C5D,MAAM4D,IAAI,EAAJ,CAFrD;gBAGIrD,MAAMqD,IAAI,EAAJ,CAHV;gBAGmBpD,MAAMoD,IAAI,EAAJ,CAHzB;gBAGkCnD,MAAMmD,IAAI,EAAJ,CAHxC;gBAGiDlD,MAAMkD,IAAI,EAAJ,CAHvD;gBAKIjD,MAAMV,MAAME,GAAN,GAAYR,MAAMO,GAL5B;gBAMIU,MAAMX,MAAMH,GAAN,GAAYF,MAAMM,GAN5B;gBAOIW,MAAMZ,MAAMF,GAAN,GAAYF,MAAMK,GAP5B;gBAQIY,MAAMnB,MAAMG,GAAN,GAAYF,MAAMO,GAR5B;gBASIY,MAAMpB,MAAMI,GAAN,GAAYF,MAAMM,GAT5B;gBAUIa,MAAMpB,MAAMG,GAAN,GAAYF,MAAMC,GAV5B;gBAWImB,MAAMb,MAAMI,GAAN,GAAYH,MAAME,GAX5B;gBAYIW,MAAMd,MAAMK,GAAN,GAAYH,MAAMC,GAZ5B;gBAaIY,MAAMf,MAAMM,GAAN,GAAYV,MAAMO,GAb5B;gBAcIa,MAAMf,MAAMI,GAAN,GAAYH,MAAME,GAd5B;gBAeIa,MAAMhB,MAAMK,GAAN,GAAYV,MAAMQ,GAf5B;gBAgBIc,MAAMhB,MAAMI,GAAN,GAAYV,MAAMS,GAhB5B;;;;kBAmBUE,MAAMW,GAAN,GAAYV,MAAMS,GAAlB,GAAwBR,MAAMO,GAA9B,GAAoCN,MAAMK,GAA1C,GAAgDJ,MAAMG,GAAtD,GAA4DF,MAAMC,GAnB5E;;gBAqBI,CAACM,GAAL,EAAU,OAAO,KAAP;kBACJ,MAAMA,GAAZ;;gBAEI,CAAJ,IAAS,CAACpB,MAAMmB,GAAN,GAAYxB,MAAMuB,GAAlB,GAAwBtB,MAAMqB,GAA/B,IAAsCG,GAA/C;gBACI,CAAJ,IAAS,CAAC3B,MAAMyB,GAAN,GAAY1B,MAAM2B,GAAlB,GAAwBzB,MAAMuB,GAA/B,IAAsCG,GAA/C;gBACI,CAAJ,IAAS,CAACf,MAAMQ,GAAN,GAAYP,MAAMM,GAAlB,GAAwBL,MAAMI,GAA/B,IAAsCS,GAA/C;gBACI,CAAJ,IAAS,CAACjB,MAAMS,GAAN,GAAYV,MAAMW,GAAlB,GAAwBhB,MAAMc,GAA/B,IAAsCS,GAA/C;gBACI,CAAJ,IAAS,CAACzB,MAAMqB,GAAN,GAAYjB,MAAMoB,GAAlB,GAAwBvB,MAAMmB,GAA/B,IAAsCK,GAA/C;gBACI,CAAJ,IAAS,CAACtB,MAAMqB,GAAN,GAAY1B,MAAMuB,GAAlB,GAAwBtB,MAAMqB,GAA/B,IAAsCK,GAA/C;gBACI,CAAJ,IAAS,CAACd,MAAMI,GAAN,GAAYN,MAAMS,GAAlB,GAAwBN,MAAME,GAA/B,IAAsCW,GAA/C;gBACI,CAAJ,IAAS,CAACnB,MAAMY,GAAN,GAAYV,MAAMO,GAAlB,GAAwBb,MAAMY,GAA/B,IAAsCW,GAA/C;gBACI,CAAJ,IAAS,CAACrB,MAAMmB,GAAN,GAAYlB,MAAMgB,GAAlB,GAAwBpB,MAAMkB,GAA/B,IAAsCM,GAA/C;gBACI,CAAJ,IAAS,CAAC5B,MAAMwB,GAAN,GAAYlB,MAAMoB,GAAlB,GAAwBxB,MAAMoB,GAA/B,IAAsCM,GAA/C;gBACI,EAAJ,IAAU,CAAChB,MAAMQ,GAAN,GAAYP,MAAMK,GAAlB,GAAwBH,MAAMC,GAA/B,IAAsCY,GAAhD;gBACI,EAAJ,IAAU,CAAClB,MAAMQ,GAAN,GAAYT,MAAMW,GAAlB,GAAwBf,MAAMW,GAA/B,IAAsCY,GAAhD;gBACI,EAAJ,IAAU,CAACpB,MAAMe,GAAN,GAAYhB,MAAMkB,GAAlB,GAAwBtB,MAAMmB,GAA/B,IAAsCM,GAAhD;gBACI,EAAJ,IAAU,CAACtB,MAAMmB,GAAN,GAAYzB,MAAMuB,GAAlB,GAAwBtB,MAAMqB,GAA/B,IAAsCM,GAAhD;gBACI,EAAJ,IAAU,CAACf,MAAMI,GAAN,GAAYL,MAAMO,GAAlB,GAAwBL,MAAME,GAA/B,IAAsCY,GAAhD;gBACI,EAAJ,IAAU,CAACnB,MAAMU,GAAN,GAAYT,MAAMO,GAAlB,GAAwBN,MAAMK,GAA/B,IAAsCY,GAAhD;;mBAEO,IAAP;;;;;;;kCAIa1C,GAlarB,EAkayBpB,CAlazB,EAka2BC,CAla3B,EAka6BC,CAla7B,EAka+B;gBACnB,EAAJ,IAAUkB,IAAI,CAAJ,IAASpB,CAAT,GAAaoB,IAAI,CAAJ,IAASnB,CAAtB,GAA0BmB,IAAI,CAAJ,IAASlB,CAAnC,GAAuCkB,IAAI,EAAJ,CAAjD;gBACI,EAAJ,IAAUA,IAAI,CAAJ,IAASpB,CAAT,GAAaoB,IAAI,CAAJ,IAASnB,CAAtB,GAA0BmB,IAAI,CAAJ,IAASlB,CAAnC,GAAuCkB,IAAI,EAAJ,CAAjD;gBACI,EAAJ,IAAUA,IAAI,CAAJ,IAASpB,CAAT,GAAaoB,IAAI,CAAJ,IAASnB,CAAtB,GAA0BmB,IAAI,EAAJ,IAAUlB,CAApC,GAAwCkB,IAAI,EAAJ,CAAlD;gBACI,EAAJ,IAAUA,IAAI,CAAJ,IAASpB,CAAT,GAAaoB,IAAI,CAAJ,IAASnB,CAAtB,GAA0BmB,IAAI,EAAJ,IAAUlB,CAApC,GAAwCkB,IAAI,EAAJ,CAAlD;;;;;;ICjcFgF;yBACY;;;aACLC,QAAL,GAAgB,IAAItG,OAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAhB;aACKiB,KAAL,GAAa,IAAIjB,OAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAb;aACKuG,QAAL,GAAgB,IAAIvG,OAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAhB;aACKwG,QAAL,GAAgB,IAAIhG,OAAJ,EAAhB;aACKiG,SAAL,GAAiB,IAAIjG,OAAJ,EAAjB;;aAEKkG,OAAL,GAAe,IAAIjH,YAAJ,CAAiB,CAAjB,CAAf;aACKkH,EAAL,GAAU,IAAIlH,YAAJ,CAAiB,CAAjB,CAAV;aACKqC,KAAL,GAAa,IAAIrC,YAAJ,CAAiB,CAAjB,CAAb;;;;;uCAGW;iBACN+G,QAAL,CAAcI,KAAd,GACKC,UADL,CACgB,KAAKP,QADrB,EAEKvF,OAFL,CAEa,KAAKwF,QAAL,CAAcpG,CAAd,GAAkBkG,UAAUS,OAFzC,EAGKhG,OAHL,CAGa,KAAKyF,QAAL,CAActG,CAAd,GAAkBoG,UAAUS,OAHzC,EAIKjG,OAJL,CAIa,KAAK0F,QAAL,CAAcrG,CAAd,GAAkBmG,UAAUS,OAJzC,EAKKC,MALL,CAKY,KAAK9F,KALjB;;oBAOQ+F,UAAR,CAAmB,KAAKP,SAAxB,EAAmC,KAAKD,QAAL,CAAc/F,GAAjD;;oBAEQwG,aAAR,CAAsB,KAAKP,OAA3B,EAAoC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAApC,EAAkD,KAAKF,QAAL,CAAc/F,GAAhE;oBACQwG,aAAR,CAAsB,KAAKN,EAA3B,EAA+B,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAA/B,EAA6C,KAAKH,QAAL,CAAc/F,GAA3D;oBACQwG,aAAR,CAAsB,KAAKnF,KAA3B,EAAkC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAlC,EAAgD,KAAK0E,QAAL,CAAc/F,GAA9D;;mBAEO,KAAK+F,QAAL,CAAc/F,GAArB;;;;0CAGc;oBACNwG,aAAR,CAAsB,KAAKP,OAA3B,EAAoC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAApC,EAAkD,KAAKF,QAAL,CAAc/F,GAAhE;oBACQwG,aAAR,CAAsB,KAAKN,EAA3B,EAA+B,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAA/B,EAA6C,KAAKH,QAAL,CAAc/F,GAA3D;oBACQwG,aAAR,CAAsB,KAAKnF,KAA3B,EAAkC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAlC,EAAgD,KAAK0E,QAAL,CAAc/F,GAA9D;mBACO,IAAP;;;;oCAGQ;mBACD,KAAK+F,QAAL,CAAc/F,GAArB;;;;0CAGc;mBACP,KAAKgG,SAAZ;;;;gCAGI;iBACCH,QAAL,CAAcY,GAAd,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB;iBACKjG,KAAL,CAAWiG,GAAX,CAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB;iBACKX,QAAL,CAAcW,GAAd,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB;;;;;;AAIRb,UAAUS,OAAV,GAAoB1J,KAAK+J,EAAL,GAAU,GAA9B;;ICpDMC;mBACU1I,IAAZ,EAAkB;;;aACTA,IAAL,GAAYA,IAAZ;aACK2I,SAAL,GAAiB,IAAIhB,SAAJ,EAAjB;;;;;iCAGKpG,GAAGC,GAAGC,GAAG;iBACTkH,SAAL,CAAepG,KAAf,CAAqBiG,GAArB,CAAyBjH,CAAzB,EAA4BC,CAA5B,EAA+BC,CAA/B;mBACO,IAAP;;;;oCAGQF,GAAGC,GAAGC,GAAG;iBACZkH,SAAL,CAAef,QAAf,CAAwBY,GAAxB,CAA4BjH,CAA5B,EAA+BC,CAA/B,EAAkCC,CAAlC;mBACO,IAAP;;;;oCAGQF,GAAGC,GAAGC,GAAG;iBACZkH,SAAL,CAAed,QAAf,CAAwBW,GAAxB,CAA4BjH,CAA5B,EAA+BC,CAA/B,EAAkCC,CAAlC;mBACO,IAAP;;;;iCAGKF,GAAGC,GAAGC,GAAG;iBACTkH,SAAL,CAAepG,KAAf,CAAqBhB,CAArB,IAA0BA,CAA1B;iBACKoH,SAAL,CAAepG,KAAf,CAAqBf,CAArB,IAA0BA,CAA1B;iBACKmH,SAAL,CAAepG,KAAf,CAAqBd,CAArB,IAA0BA,CAA1B;mBACO,IAAP;;;;oCAGQF,GAAGC,GAAGC,GAAG;iBACZkH,SAAL,CAAef,QAAf,CAAwBrG,CAAxB,IAA6BA,CAA7B;iBACKoH,SAAL,CAAef,QAAf,CAAwBpG,CAAxB,IAA6BA,CAA7B;iBACKmH,SAAL,CAAef,QAAf,CAAwBnG,CAAxB,IAA6BA,CAA7B;mBACO,IAAP;;;;oCAGQF,GAAGC,GAAGC,GAAG;iBACZkH,SAAL,CAAed,QAAf,CAAwBtG,CAAxB,IAA6BA,CAA7B;iBACKoH,SAAL,CAAed,QAAf,CAAwBrG,CAAxB,IAA6BA,CAA7B;iBACKmH,SAAL,CAAed,QAAf,CAAwBpG,CAAxB,IAA6BA,CAA7B;mBACO,IAAP;;;;oCAGQ;iBACHkH,SAAL,CAAeC,YAAf;mBACO,IAAP;;;;;;AC3CR,IAAMC,aAAa,EAAnB;AACAA,WAAWC,QAAX;;;;;;;mCACsBrL,EADtB,EAC0B;gBACZsL,WAAW,EAAjB;gBACMC,OAAO,CAAb;gBACMC,MAAM,IAAZ;gBACMC,OAAOF,OAAOC,GAApB;gBACME,OAAOH,OAAO,CAApB;;gBAEII,UAAJ;iBACK,IAAI3G,IAAI,CAAb,EAAgBA,KAAKwG,GAArB,EAA0BxG,GAA1B,EAA+B;oBACvB,CAAC0G,IAAD,GAAS1G,IAAIyG,IAAjB;yBACSG,IAAT,CAAcD,CAAd;yBACSC,IAAT,CAAc,CAAd;yBACSA,IAAT,CAAcF,IAAd;yBACSE,IAAT,CAAc,CAAd;;yBAESA,IAAT,CAAcD,CAAd;yBACSC,IAAT,CAAc,CAAd;yBACSA,IAAT,CAAc,CAACF,IAAf;yBACSE,IAAT,CAAc,CAAd;;yBAESA,IAAT,CAAc,CAACF,IAAf;yBACSE,IAAT,CAAc,CAAd;yBACSA,IAAT,CAAcD,CAAd;yBACSC,IAAT,CAAc,CAAd;;yBAESA,IAAT,CAAcF,IAAd;yBACSE,IAAT,CAAc,CAAd;yBACSA,IAAT,CAAcD,CAAd;yBACSC,IAAT,CAAc,CAAd;;;qBAGKA,IAAT,CAAc,CAACF,IAAf;qBACSE,IAAT,CAAc,CAAd;qBACSA,IAAT,CAAc,CAAd;qBACSA,IAAT,CAAc,CAAd;;qBAESA,IAAT,CAAcF,IAAd;qBACSE,IAAT,CAAc,CAAd;qBACSA,IAAT,CAAc,CAAd;qBACSA,IAAT,CAAc,CAAd;;qBAESA,IAAT,CAAc,CAAd;qBACSA,IAAT,CAAc,CAACF,IAAf;qBACSE,IAAT,CAAc,CAAd;qBACSA,IAAT,CAAc,CAAd;;qBAESA,IAAT,CAAc,CAAd;qBACSA,IAAT,CAAcF,IAAd;qBACSE,IAAT,CAAc,CAAd;qBACSA,IAAT,CAAc,CAAd;;qBAESA,IAAT,CAAc,CAAd;qBACSA,IAAT,CAAc,CAAd;qBACSA,IAAT,CAAc,CAACF,IAAf;qBACSE,IAAT,CAAc,CAAd;;qBAESA,IAAT,CAAc,CAAd;qBACSA,IAAT,CAAc,CAAd;qBACSA,IAAT,CAAcF,IAAd;qBACSE,IAAT,CAAc,CAAd;;gBAEMC,eAAe,CAArB;gBACMtJ,OAAO;0BACCvC,GAAG8L,KADJ;qBAEJ9L,GAAG2C,iBAAH;aAFT;;iBAKKS,aAAL,GAAqB,CAArB;iBACKC,QAAL,GAAgBiI,SAAStI,MAAT,GAAkBT,KAAKa,aAAvC;gBACM2I,YAAYzI,aAAa0I,iBAAb,GAAiCzJ,KAAKa,aAAxD;;iBAEKD,SAAL,GAAiBnD,GAAG2B,YAAH,EAAjB;eACGiB,eAAH,CAAmBL,KAAKG,GAAxB;eACGd,UAAH,CAAc5B,GAAG6B,YAAjB,EAA+BU,KAAKY,SAApC;eACGrB,UAAH,CAAc9B,GAAG6B,YAAjB,EAA+B,IAAIyB,YAAJ,CAAiBgI,QAAjB,CAA/B,EAA2DtL,GAAG+B,WAA9D;eACGwB,uBAAH,CAA2BC,qBAA3B;eACGD,uBAAH,CAA2BsI,YAA3B;;eAEGpI,mBAAH,CACID,qBADJ,EAEI,CAFJ,EAGIxD,GAAG0D,KAHP,EAII,KAJJ,EAKIqI,SALJ,EAMI,CANJ;;eASGtI,mBAAH,CACIoI,YADJ,EAEI,CAFJ,EAGI7L,GAAG0D,KAHP,EAII,KAJJ,EAKIqI,SALJ,EAMIzI,aAAa0I,iBAAb,GAAiC,CANrC;;eASGpK,UAAH,CAAc5B,GAAG6B,YAAjB,EAA+B,IAA/B;eACGe,eAAH,CAAmB,IAAnB;iBACA,CAAiBqJ,QAAjB,GAA4B1J,IAA5B;mBACOA,IAAP;;;;;;ACxGR;AACA,IAGM2J;yBACUC,GAAZ,EAAiBC,KAAjB,EAAwB/G,IAAxB,EAA8BC,GAA9B,EAAmC;;;aAC1B+G,iBAAL,GAAyB,IAAI/I,YAAJ,CAAiB,EAAjB,CAAzB;gBACQgJ,WAAR,CAAoB,KAAKD,iBAAzB,EAA4CF,GAA5C,EAAiDC,KAAjD,EAAwD/G,IAAxD,EAA8DC,GAA9D;;aAEK4F,SAAL,GAAiB,IAAIhB,SAAJ,EAAjB;aACKqC,UAAL,GAAkB,IAAIjJ,YAAJ,CAAiB,EAAjB,CAAlB;;aAEKkJ,IAAL,GAAYN,YAAYO,UAAxB;;;;;6BAGCxI,GAAG;gBACA,KAAKuI,IAAL,KAAcN,YAAYO,UAA9B,EAA0C;;;iBAGrCC,gBAAL;iBACKxB,SAAL,CAAef,QAAf,CAAwBrG,CAAxB,IAA6B,KAAKoH,SAAL,CAAevF,KAAf,CAAqB,CAArB,IAA0B1B,CAAvD;iBACKiH,SAAL,CAAef,QAAf,CAAwBpG,CAAxB,IAA6B,KAAKmH,SAAL,CAAevF,KAAf,CAAqB,CAArB,IAA0B1B,CAAvD;iBACKiH,SAAL,CAAef,QAAf,CAAwBnG,CAAxB,IAA6B,KAAKkH,SAAL,CAAevF,KAAf,CAAqB,CAArB,IAA0B1B,CAAvD;;;;6BAGCA,GAAG;iBACCyI,gBAAL;iBACKxB,SAAL,CAAef,QAAf,CAAwBpG,CAAxB,IAA6B,KAAKmH,SAAL,CAAeV,EAAf,CAAkB,CAAlB,IAAuBvG,CAApD;gBACI,KAAKuI,IAAL,KAAcN,YAAYO,UAA9B,EAA0C;;;iBAGrCvB,SAAL,CAAef,QAAf,CAAwBrG,CAAxB,IAA6B,KAAKoH,SAAL,CAAeV,EAAf,CAAkB,CAAlB,IAAuBvG,CAApD;iBACKiH,SAAL,CAAef,QAAf,CAAwBnG,CAAxB,IAA6B,KAAKkH,SAAL,CAAeV,EAAf,CAAkB,CAAlB,IAAuBvG,CAApD;;;;6BAGCA,GAAG;iBACCyI,gBAAL;gBACI,KAAKF,IAAL,KAAcN,YAAYO,UAA9B,EAA0C;qBACjCvB,SAAL,CAAef,QAAf,CAAwBnG,CAAxB,IAA6BC,CAA7B;aADJ,MAEO;qBACEiH,SAAL,CAAef,QAAf,CAAwBrG,CAAxB,IAA6B,KAAKoH,SAAL,CAAeX,OAAf,CAAuB,CAAvB,IAA4BtG,CAAzD;qBACKiH,SAAL,CAAef,QAAf,CAAwBpG,CAAxB,IAA6B,KAAKmH,SAAL,CAAeX,OAAf,CAAuB,CAAvB,IAA4BtG,CAAzD;qBACKiH,SAAL,CAAef,QAAf,CAAwBnG,CAAxB,IAA6B,KAAKkH,SAAL,CAAeX,OAAf,CAAuB,CAAvB,IAA4BtG,CAAzD;;;;;2CAIW;gBACX,KAAKuI,IAAL,KAAcN,YAAYS,SAA9B,EAAyC;qBAChCzB,SAAL,CAAeb,QAAf,CAAwBI,KAAxB,GACKC,UADL,CACgB,KAAKQ,SAAL,CAAef,QAD/B,EAEKzF,OAFL,CAEa,KAAKwG,SAAL,CAAed,QAAf,CAAwBrG,CAAxB,GAA4BmG,UAAUS,OAFnD,EAGKhG,OAHL,CAGa,KAAKuG,SAAL,CAAed,QAAf,CAAwBtG,CAAxB,GAA4BoG,UAAUS,OAHnD;aADJ,MAKO;qBACEO,SAAL,CAAeb,QAAf,CAAwBI,KAAxB,GACK/F,OADL,CACa,KAAKwG,SAAL,CAAed,QAAf,CAAwBrG,CAAxB,GAA4BmG,UAAUS,OADnD,EAEKhG,OAFL,CAEa,KAAKuG,SAAL,CAAed,QAAf,CAAwBtG,CAAxB,GAA4BoG,UAAUS,OAFnD,EAGKD,UAHL,CAGgB,KAAKQ,SAAL,CAAef,QAH/B;;;iBAMCe,SAAL,CAAe0B,eAAf;;oBAEQ7H,MAAR,CAAe,KAAKwH,UAApB,EAAgC,KAAKrB,SAAL,CAAeb,QAAf,CAAwB/F,GAAxD;mBACO,KAAKiI,UAAZ;;;;;;AAIRL,YAAYS,SAAZ,GAAwB,CAAxB;AACAT,YAAYO,UAAZ,GAAyB,CAAzB;;IAGMI;8BACU7M,EAAZ,EAAgB8M,MAAhB,EAAwB;;;YACdC,OAAO,IAAb;YACMC,MAAMhN,GAAGG,MAAH,CAAU8M,qBAAV,EAAZ;aACK9M,MAAL,GAAcH,GAAGG,MAAjB;aACK2M,MAAL,GAAcA,MAAd;;aAEKI,UAAL,GAAkB,CAAC,GAAnB;aACKC,OAAL,GAAe,CAAf;aACKC,QAAL,GAAgB,GAAhB;;aAEKC,OAAL,GAAeL,IAAItH,IAAnB;aACK4H,OAAL,GAAeN,IAAInH,GAAnB;;aAEK0H,KAAL,GAAa,CAAb;aACKC,KAAL,GAAa,CAAb;aACKC,KAAL,GAAa,CAAb;aACKC,KAAL,GAAa,CAAb;;aAEKC,WAAL,GAAmB,UAAUC,CAAV,EAAa;iBACvBC,SAAL,CAAeD,CAAf;SADJ;aAGKE,aAAL,GAAqB,UAAUF,CAAV,EAAa;iBACzBG,WAAL,CAAiBH,CAAjB;SADJ;;aAIKzN,MAAL,CAAY6N,gBAAZ,CAA6B,WAA7B,EAA0C,UAACJ,CAAD,EAAO;iBACxCK,WAAL,CAAiBL,CAAjB;SADJ;aAGKzN,MAAL,CAAY6N,gBAAZ,CAA6B,YAA7B,EAA2C,UAACJ,CAAD,EAAO;iBACzCM,YAAL,CAAkBN,CAAlB;SADJ;;;;;qCAKSA,GAAG;mBACL;mBACAA,EAAEO,KAAF,GAAU,KAAKd,OADf;mBAEAO,EAAEQ,KAAF,GAAU,KAAKd;aAFtB;;;;oCAMQM,GAAG;iBACNL,KAAL,GAAa,KAAKE,KAAL,GAAaG,EAAEO,KAAF,GAAU,KAAKd,OAAzC;iBACKG,KAAL,GAAa,KAAKE,KAAL,GAAaE,EAAEQ,KAAF,GAAU,KAAKd,OAAzC;;iBAEKnN,MAAL,CAAY6N,gBAAZ,CAA6B,SAA7B,EAAwC,KAAKL,WAA7C;iBACKxN,MAAL,CAAY6N,gBAAZ,CAA6B,WAA7B,EAA0C,KAAKF,aAA/C;;;;oCAGQ;iBACH3N,MAAL,CAAYkO,mBAAZ,CAAgC,SAAhC,EAA2C,KAAKR,SAAhD;iBACK1N,MAAL,CAAYkO,mBAAZ,CAAgC,WAAhC,EAA6C,KAAKP,aAAlD;;;;qCAGSF,GAAG;gBACNU,QAAQrN,KAAKC,GAAL,CAAS,CAAC,CAAV,EAAaD,KAAKsN,GAAL,CAAS,CAAT,EAAaX,EAAEY,UAAF,IAAgB,CAACZ,EAAEa,MAAhC,CAAb,CAAd;iBACK3B,MAAL,CAAY4B,IAAZ,CAAiBJ,SAAS,KAAKlB,QAAL,GAAgB,KAAKjN,MAAL,CAAYW,MAArC,CAAjB;;;;oCAGQ8M,GAAG;gBACL9J,IAAI8J,EAAEO,KAAF,GAAU,KAAKd,OAAzB;gBACMtJ,IAAI6J,EAAEQ,KAAF,GAAU,KAAKd,OAAzB;gBACMqB,KAAK7K,IAAI,KAAK2J,KAApB;gBACMmB,KAAK7K,IAAI,KAAK2J,KAApB;;gBAEI,CAACE,EAAEiB,QAAP,EAAiB;qBACR/B,MAAL,CAAY5B,SAAZ,CAAsBd,QAAtB,CAA+BrG,CAA/B,IAAoC4K,MAAM,KAAKzB,UAAL,GAAkB,KAAK/M,MAAL,CAAYU,KAApC,CAApC;qBACKiM,MAAL,CAAY5B,SAAZ,CAAsBd,QAAtB,CAA+BtG,CAA/B,IAAoC8K,MAAM,KAAK1B,UAAL,GAAkB,KAAK/M,MAAL,CAAYW,MAApC,CAApC;aAFJ,MAGO;qBACEgM,MAAL,CAAYgC,IAAZ,CAAiB,CAACH,EAAD,IAAO,KAAKxB,OAAL,GAAe,KAAKhN,MAAL,CAAYU,KAAlC,CAAjB;qBACKiM,MAAL,CAAYiC,IAAZ,CAAiBH,MAAM,KAAKzB,OAAL,GAAe,KAAKhN,MAAL,CAAYW,MAAjC,CAAjB;;;iBAGC2M,KAAL,GAAa3J,CAAb;iBACK4J,KAAL,GAAa3J,CAAb;;;;;;IChJFiL;oBACUC,QAAZ,EAAsBC,GAAtB,EAA2B;;;YACjBnC,OAAO,IAAb;aACKoC,QAAL,GAAgB,IAAhB;aACKF,QAAL,GAAgBA,QAAhB;aACKG,QAAL,GAAgB,KAAhB;aACKF,GAAL,GAAW,CAAX;;YAEI,OAAQA,GAAR,KAAiB,QAAjB,IAA6BA,MAAM,CAAvC,EAA0C;iBACjCG,cAAL,GAAsB,IAAIH,GAA1B;;iBAEKI,GAAL,GAAW,YAAY;oBACbC,cAAcC,YAAYC,GAAZ,EAApB;oBACMC,WAAW,CAACH,cAAcxC,KAAKoC,QAApB,IAAgC,IAAjD;;oBAEIO,YAAY3C,KAAKsC,cAArB,EAAqC;yBAC5BH,GAAL,GAAWjO,KAAK0O,KAAL,CAAW,IAAID,QAAf,CAAX;yBACKP,QAAL,GAAgBI,WAAhB;yBACKN,QAAL,CAAcS,QAAd;;;oBAGA3C,KAAKqC,QAAT,EAAmB;2BAASQ,qBAAP,CAA6B7C,KAAKuC,GAAlC;;aAVzB;SAHJ,MAeO;iBACEA,GAAL,GAAW,YAAY;oBACbC,cAAcC,YAAYC,GAAZ,EAApB;oBACMC,WAAW,CAACH,cAAcxC,KAAKoC,QAApB,IAAgC,IAAjD;;qBAEKD,GAAL,GAAWjO,KAAK0O,KAAL,CAAW,IAAID,QAAf,CAAX;qBACKP,QAAL,GAAgBI,WAAhB;;qBAEKN,QAAL,CAAcS,QAAd;oBACI3C,KAAKqC,QAAT,EAAmB;2BAASQ,qBAAP,CAA6B7C,KAAKuC,GAAlC;;aARzB;;;;;;gCAaA;iBACCF,QAAL,GAAgB,IAAhB;iBACKD,QAAL,GAAgBK,YAAYC,GAAZ,EAAhB;mBACOG,qBAAP,CAA6B,KAAKN,GAAlC;mBACO,IAAP;;;;+BAGG;iBAAOF,QAAL,GAAgB,KAAhB;;;;;;IC1CPS;;;;;;;kCACeC,IAAI;gBACXC,MAAM3P,SAASC,cAAT,CAAwByP,EAAxB,CAAZ;gBACI,CAACC,GAAD,IAAQA,IAAIC,WAAJ,KAAoB,EAAhC,EAAoC;wBACxBzP,KAAR,CAAiBuP,EAAjB;uBACO,IAAP;;mBAEGC,IAAIC,WAAX;;;;qCAGgBhQ,IAAIiQ,KAAKC,MAAM;gBACzBC,SAASnQ,GAAGoQ,YAAH,CAAgBF,IAAhB,CAAf;eACGG,YAAH,CAAgBF,MAAhB,EAAwBF,GAAxB;eACGK,aAAH,CAAiBH,MAAjB;;gBAEI,CAACnQ,GAAGuQ,kBAAH,CAAsBJ,MAAtB,EAA8BnQ,GAAGwQ,cAAjC,CAAL,EAAuD;wBAC3CjQ,KAAR,8BAAyC0P,GAAzC,EAAgDjQ,GAAGyQ,gBAAH,CAAoBN,MAApB,CAAhD;mBACGO,YAAH,CAAgBP,MAAhB;uBACO,IAAP;;;mBAGGA,MAAP;;;;sCAGiBnQ,IAAI2Q,IAAIC,IAAuB;gBAAnBC,UAAmB,uEAAN,IAAM;;gBAC5CC,gBAAJ;gBACIC,gBAAJ;gBACI,EAAEJ,cAAcK,WAAhB,KAAgCL,GAAG3N,MAAH,GAAY,EAAhD,EAAoD;oBAC1CiN,MAAM,KAAKgB,SAAL,CAAeN,EAAf,CAAZ;oBACI,CAACV,GAAL,EAAU;2BAAS,IAAP;;0BACF,KAAKG,YAAL,CAAkBpQ,EAAlB,EAAsBiQ,GAAtB,EAA2BjQ,GAAGkR,aAA9B,CAAV;oBACI,CAACJ,OAAL,EAAc;2BAAS,IAAP;;aAJpB,MAKO,IAAI,EAAEH,cAAcK,WAAhB,CAAJ,EAAkC;0BAC3B,KAAKZ,YAAL,CAAkBpQ,EAAlB,EAAsB2Q,EAAtB,EAA0B3Q,GAAGkR,aAA7B,CAAV;oBACI,CAACJ,OAAL,EAAc;2BAAS,IAAP;;;gBAEhB,EAAEF,cAAcI,WAAhB,KAAgCJ,GAAG5N,MAAH,GAAY,EAAhD,EAAoD;oBAC1CiN,OAAM,KAAKgB,SAAL,CAAeL,EAAf,CAAZ;oBACI,CAACX,IAAL,EAAU;2BAAS,IAAP;;0BACF,KAAKG,YAAL,CAAkBpQ,EAAlB,EAAsBiQ,IAAtB,EAA2BjQ,GAAGmR,eAA9B,CAAV;oBACI,CAACJ,OAAL,EAAc;2BAAS,IAAP;;aAJpB,MAKO,IAAI,EAAEH,cAAcI,WAAhB,CAAJ,EAAkC;0BAC3B,KAAKZ,YAAL,CAAkBpQ,EAAlB,EAAsB4Q,EAAtB,EAA0B5Q,GAAGmR,eAA7B,CAAV;oBACI,CAACJ,OAAL,EAAc;2BAAS,IAAP;;;;gBAGdK,OAAOpR,GAAGqR,aAAH,EAAb;eACGC,YAAH,CAAgBF,IAAhB,EAAsBN,OAAtB;eACGQ,YAAH,CAAgBF,IAAhB,EAAsBL,OAAtB;;eAEGQ,kBAAH,CAAsBH,IAAtB,EAA4B5N,qBAA5B,EAA6DA,sBAA7D,EA1BgD;eA2B7C+N,kBAAH,CAAsBH,IAAtB,EAA4B5N,mBAA5B,EAA2DA,oBAA3D;eACG+N,kBAAH,CAAsBH,IAAtB,EAA4B5N,eAA5B,EAAuDA,gBAAvD;;eAEGgO,WAAH,CAAeJ,IAAf;;gBAEI,CAACpR,GAAGyR,mBAAH,CAAuBL,IAAvB,EAA6BpR,GAAG0R,WAAhC,CAAL,EAAmD;wBACvCnR,KAAR,CAAc,iCAAd,EAAiDP,GAAG2R,iBAAH,CAAqBP,IAArB,CAAjD;mBACGQ,aAAH,CAAiBR,IAAjB;uBACO,IAAP;;;gBAGAP,UAAJ,EAAgB;mBACTgB,eAAH,CAAmBT,IAAnB;oBACI,CAACpR,GAAGyR,mBAAH,CAAuBL,IAAvB,EAA6BpR,GAAG8R,eAAhC,CAAL,EAAuD;4BAC3CvR,KAAR,CAAc,kCAAd,EAAkDP,GAAG2R,iBAAH,CAAqBP,IAArB,CAAlD;uBACGQ,aAAH,CAAiBR,IAAjB;2BACO,IAAP;;;;eAILW,YAAH,CAAgBX,IAAhB,EAAsBN,OAAtB;eACGiB,YAAH,CAAgBX,IAAhB,EAAsBL,OAAtB;eACGL,YAAH,CAAgBI,OAAhB;eACGJ,YAAH,CAAgBK,OAAhB;;mBAEOK,IAAP;;;;iDAG4BpR,IAAIgS,SAAS;mBAClC;0BACOhS,GAAGiS,iBAAH,CAAqBD,OAArB,EAA8BxO,sBAA9B,CADP;wBAEKxD,GAAGiS,iBAAH,CAAqBD,OAArB,EAA8BxO,oBAA9B,CAFL;oBAGCxD,GAAGiS,iBAAH,CAAqBD,OAArB,EAA8BxO,gBAA9B;aAHR;;;;iDAO4BxD,IAAIgS,SAAS;mBAClC;6BACUhS,GAAGkS,kBAAH,CAAsBF,OAAtB,EAA+B,QAA/B,CADV;sBAEGhS,GAAGkS,kBAAH,CAAsBF,OAAtB,EAA+B,QAA/B,CAFH;uBAGIhS,GAAGkS,kBAAH,CAAsBF,OAAtB,EAA+B,SAA/B;aAHX;;;;;;ICxFFG;oBACUnS,EAAZ,EAAgB2Q,EAAhB,EAAoBC,EAApB,EAAwB;;;aACfoB,OAAL,GAAenC,WAAWwB,aAAX,CAAyBrR,EAAzB,EAA6B2Q,EAA7B,EAAiCC,EAAjC,CAAf;;YAEI,KAAKoB,OAAL,KAAiB,IAArB,EAA2B;iBAClBhS,EAAL,GAAUA,EAAV;eACGoS,UAAH,CAAc,KAAKJ,OAAnB;iBACKK,SAAL,GAAiBxC,WAAWyC,wBAAX,CAAoCtS,EAApC,EAAwC,KAAKgS,OAA7C,CAAjB;iBACKO,UAAL,GAAkB1C,WAAW2C,wBAAX,CAAoCxS,EAApC,EAAwC,KAAKgS,OAA7C,CAAlB;;;;;;mCAIG;iBACFhS,EAAL,CAAQoS,UAAR,CAAmB,KAAKJ,OAAxB;mBACO,IAAP;;;;qCAGS;iBACJhS,EAAL,CAAQoS,UAAR,CAAmB,IAAnB;mBACO,IAAP;;;;uCAGWK,WAAW;iBACjBzS,EAAL,CAAQ0S,gBAAR,CAAyB,KAAKH,UAAL,CAAgBjG,WAAzC,EAAsD,KAAtD,EAA6DmG,SAA7D;mBACO,IAAP;;;;sCAGUA,WAAW;iBAChBzS,EAAL,CAAQ0S,gBAAR,CAAyB,KAAKH,UAAL,CAAgBI,IAAzC,EAA+C,KAA/C,EAAsDF,SAAtD;mBACO,IAAP;;;;uCAGWA,WAAW;iBACjBzS,EAAL,CAAQ0S,gBAAR,CAAyB,KAAKH,UAAL,CAAgBK,KAAzC,EAAgD,KAAhD,EAAuDH,SAAvD;mBACO,IAAP;;;;kCAGM;gBACF,KAAKzS,EAAL,CAAQ6S,YAAR,CAAqB,KAAK7S,EAAL,CAAQ8S,eAA7B,MAAkD,KAAKd,OAA3D,EAAoE;qBAC3DhS,EAAL,CAAQoS,UAAR,CAAmB,IAAnB;;iBAECpS,EAAL,CAAQ4R,aAAR,CAAsB,KAAKI,OAA3B;;;;oCAGQ;;;;oCAEAe,OAAO;iBACVC,cAAL,CAAoBD,MAAM7H,SAAN,CAAgB+H,SAAhB,EAApB;iBACKjT,EAAL,CAAQ4C,eAAR,CAAwBmQ,MAAMxQ,IAAN,CAAWG,GAAnC;gBACIqQ,MAAMxQ,IAAN,CAAWQ,UAAf,EAA2B;qBAClB/C,EAAL,CAAQkT,YAAR,CACIH,MAAMxQ,IAAN,CAAW4Q,QADf,EACyBJ,MAAMxQ,IAAN,CAAWQ,UADpC,EAEI,KAAK/C,EAAL,CAAQoT,cAFZ,EAE4B,CAF5B;aADJ,MAKO;qBACEpT,EAAL,CAAQqT,UAAR,CAAmBN,MAAMxQ,IAAN,CAAW4Q,QAA9B,EAAwC,CAAxC,EAA2CJ,MAAMxQ,IAAN,CAAWc,QAAtD;;iBAECrD,EAAL,CAAQ4C,eAAR,CAAwB,IAAxB;;mBAEO,IAAP;;;;;;IC3DF0Q;;;4BACUtT,EAAZ,EAAgBuT,OAAhB,EAAyB;;;YACf5C,KAAK,sBACP,uBADO,GAEP,wCAFO,GAGP,IAHO,GAIP,yBAJO,GAKP,wBALO,GAMP,wBANO,GAOP,6BAPO,GAQP,IARO,GASP,qBATO,GAUP,IAVO,GAWP,iBAXO,GAYP,yCAZO,GAaP,wEAbO,GAcP,GAdJ;;YAgBMC,KAAK,sBACP,4BADO,GAEP,IAFO,GAGP,oBAHO,GAIP,wBAJO,GAKP,IALO,GAMP,iBANO,GAOP,wCAPO,GAQP,GARJ;;mIAUM5Q,EA3Be,EA2BX2Q,EA3BW,EA2BPC,EA3BO;;cA6BhB4C,cAAL,CAAoBD,OAApB;;YAEME,SAASzT,GAAGkS,kBAAH,CAAsB,MAAKF,OAA3B,EAAoC,UAApC,CAAf;WACG0B,UAAH,CAAcD,MAAd,EAAsB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,CAAtB;;WAEGrB,UAAH,CAAc,IAAd;;;;;EAnCqBD;;;;"}